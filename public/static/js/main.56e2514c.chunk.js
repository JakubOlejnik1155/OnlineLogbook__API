(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{118:function(e,a,t){},133:function(e,a,t){e.exports=t.p+"static/media/1t.fa45d896.jpg"},150:function(e,a,t){e.exports=t.p+"static/media/center-gps.e2031fb3.svg"},176:function(e,a,t){e.exports=t(217)},181:function(e,a,t){},182:function(e,a,t){},187:function(e,a,t){},188:function(e,a,t){},192:function(e,a,t){},193:function(e,a,t){},194:function(e,a,t){},195:function(e,a,t){},196:function(e,a,t){},197:function(e,a,t){},216:function(e,a,t){},217:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),l=t.n(o),c=(t(181),t(109)),i=t(6),s=t(63),m=t(24),u=(t(182),function(){return r.a.createElement("div",{className:"BadPathWrapper"},r.a.createElement("div",{className:"contentWrapper"},r.a.createElement("p",null,"Error number: ",r.a.createElement("span",{className:"errorNumber"},"404")),r.a.createElement("p",null,"It looks like the page you are looking for does not exist"),r.a.createElement(m.b,{id:"back",to:"/login"},"Go to Log In Page")))}),d=(t(187),t(44)),p=t(76),g=t.n(p),b=t(62),h=t.n(b),f=t(28),E=t.n(f),y=t(41),v=r.a.createContext(),x=t(18),S=t.n(x),O=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(""),c=Object(i.a)(l,2),s=c[0],u=c[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),f=b[0],x=b[1],O=Object(y.c)(),w=Object(n.useContext)(v);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault();var a={email:t,password:s},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(E.a.authServer.concat("/api/user/login"),n).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(e){if(e.error)O.error("".concat(e.error)),console.log(e.error);else{S.a.set("JsonWebToken",e.accessToken,{expires:1/288}),f?(S.a.set("RefreshToken",e.refreshToken,{expires:365}),S.a.set("pp",e.profilePicture,{expires:365})):(S.a.set("RefreshToken",e.refreshToken),S.a.set("pp",e.profilePicture)),w.setAuth(!0)}})).catch((function(e){O.error("".concat(e)),console.error(e)}))}},r.a.createElement("div",{className:"loginForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"text",name:"email",id:"emialLogin",value:t,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"email",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"labelIcon",icon:g.a}),"Email"))),r.a.createElement("div",{className:"loginForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"password",name:"password",id:"password",value:s,onChange:function(e){u(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"password",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"labelIcon",icon:h.a}),"Password"))),r.a.createElement("div",{className:"rememberMeContainer"},r.a.createElement("label",{htmlFor:"rememberMe",className:"rememberMe"},r.a.createElement("input",{className:"rememberMeCheckbox",type:"checkbox",name:"rememberMe",id:"rememberMe",value:f,onChange:function(){x(!f)}}),r.a.createElement("div",{className:"rememberMeCheckbox__box"}),"Remember me")),r.a.createElement("p",{className:"ForgotPassword"},r.a.createElement(m.b,{to:"/forgotPass",className:"ForgotPassword__Link",type:"button"},"Forgot your password?")),r.a.createElement("button",{className:"loginForm__SignInButton",type:"submit"},"Sign In")))},w=(t(188),t(129)),j=t.n(w),k=t(130),C=t.n(k),N=t(131),I=t.n(N),T=t(132);t(189).config();var M=function(e){var a=Object(y.c)(),t=Object(n.useContext)(v),o=function(e,n){var r={email:e,profilePicture:n},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};fetch(E.a.server.concat("/api/user/socialuser"),o).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(e){if(e.error)a.error("".concat(e.error)),console.error(e.error);else{S.a.set("JsonWebToken",e.accessToken,{expires:1/288}),S.a.set("RefreshToken",e.refreshToken,{expires:365}),S.a.set("pp",e.profilePicture,{expires:365}),t.setAuth(!0)}})).catch((function(e){a.error("".concat(e))}))};return r.a.createElement("div",{className:"welcomeSection"},r.a.createElement("h1",{className:"welcomeSection__text"},e.mainText),r.a.createElement("div",{className:"welcomeSection__socialIcons"},r.a.createElement(C.a,{appId:"365171684399594",autoLoad:!1,fields:"name,email,picture",callback:function(e){"not_authorized"!==e.status&&"unknown"!==e.status&&o(e.email,e.picture.data.url)},render:function(e){return r.a.createElement(d.Icon,{className:"socialLoginIcon",icon:I.a,onClick:e.onClick})}}),r.a.createElement(T.GoogleLogin,{clientId:"552771098749-1h51smd542i6utpn1d8755orepb4snqo.apps.googleusercontent.com",render:function(e){return r.a.createElement(d.Icon,{className:"socialLoginIcon",icon:j.a,onClick:e.onClick})},onSuccess:function(e){o(e.profileObj.email,e.profileObj.imageUrl)},onFailure:function(){console.log("Google login disabled")},cookiePolicy:"single_host_origin"})),r.a.createElement("h3",{className:"welcomeSection__secondaryText"},e.secondaryText))},A=(t(192),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bgImage"}),r.a.createElement("div",{className:"InnerChangeSection"},r.a.createElement("p",{className:"changeMessage"},e.message),r.a.createElement(m.b,{to:e.path,className:"changeSection__button",style:{color:"white"}},e.btnText)))}),F=t(61),P=t.n(F),G=(t(118),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo__image",src:P.a,alt:"logo"})),r.a.createElement("div",{className:"formsPlusChanegeSection"},r.a.createElement("div",{className:"formsContainer__loginForm"},r.a.createElement(M,{mainText:"Sign in to e-logbook",secondaryText:"or use your email account:"}),r.a.createElement(O,{auth:e.auth})),r.a.createElement("div",{className:"changeSection"},r.a.createElement(A,{message:"If you do not have an account, enter your personal details and start your cruise with us.",btnText:"sign up",path:"/registration"})))))}),B=(t(193),function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(""),c=Object(i.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),b=p[0],f=p[1],v=Object(y.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"registrationForm",method:"POST",onSubmit:function(e){e.preventDefault();var a={email:t,password:s,passwordConfirm:b},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(E.a.server.concat("/api/user/register"),n).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(e){e.error?(v.error("".concat(e.error)),console.error(e.error)):(v.success("your account was created. Check your mailbox!"),m(""),o(""),f(""))})).catch((function(e){v.error("".concat(e)),console.error(e)}))}},r.a.createElement("div",{className:"registrationForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"text",name:"emailRegistration",id:"emailRegistration",value:t,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"emailRegistration",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"}," ",r.a.createElement(d.Icon,{className:"labelIcon",icon:g.a}),"Email"))),r.a.createElement("div",{className:"registrationForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"password",name:"passwordRegistration",id:"passwordRegistration",value:s,onChange:function(e){m(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"passwordRegistration",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"labelIcon",icon:h.a}),"Password"))),r.a.createElement("div",{className:"registrationForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"password",name:"passwordRegistrationConfirm",id:"passwordRegistrationConfirm",value:b,onChange:function(e){f(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"passwordRegistrationConfirm",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"labelIcon",icon:h.a}),"Confirm password"))),r.a.createElement("button",{className:"registrationForm__SignUpButton",type:"submit"},"Sign Up")))}),_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo__image",src:P.a,alt:"logo"})),r.a.createElement("div",{className:"formsPlusChanegeSection"},r.a.createElement("div",{className:"formsContainer__registrationForm"},r.a.createElement(M,{mainText:"Create account",secondaryText:"or use your email for registration:"}),r.a.createElement(B,null)),r.a.createElement("div",{className:"changeSection"},r.a.createElement(A,{message:"If you already have an account, log in to fill your online logbook",btnText:"sign in",path:"/login"})))))},z=t(87),L=t.n(z),R=(t(194),function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],o=a[1],l=Object(y.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo__image",src:L.a,alt:"logo"})),r.a.createElement("div",{className:"forgotPasswordWrapper"},r.a.createElement("div",{className:"textFormContainer"},r.a.createElement("h3",{className:"header"},"Enter your Email!"),r.a.createElement("p",{className:"underHeader"},"We will send you an email with link to change password"),r.a.createElement("form",{className:"forgotPasswordForm",onSubmit:function(e){e.preventDefault();var a={email:t},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(E.a.server.concat("/api/user/renewPassword"),n).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(e){e.error?(l.error("".concat(e.error)),console.log(e.error)):(l.success("We send you en email. Check your mailbox!"),o(""))})).catch((function(e){l.error(e),console.log(e)}))}},r.a.createElement("div",{className:"forgotPasswordForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"text",name:"emailForgetPassword",id:"emailForgetPassword",value:t,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"emailForgetPassword",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"ForgotPassword-labelIcon",icon:g.a}),"Email"))),r.a.createElement("button",{className:"registrationForm__SignUpButton",type:"submit"},"send")),r.a.createElement("p",{className:"LinkContainer"},r.a.createElement(m.b,{to:"/login",className:"backToLogin"}," Back to Sign In page")))))}),D=(t(195),function(){var e=Object(y.c)();return Object(n.useEffect)((function(){var a=new URLSearchParams(window.location.search).get("token");fetch(E.a.server.concat("/api/user/validation/".concat(a)),{method:"PUT"}).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(a){a.error?(e.error("".concat(a.error)),console.error(a.error)):(e.success("Your email was verified successfully!!!"),setTimeout((function(){window.location.replace(E.a.mainSite)}),5e3))})).catch((function(a){e.error("".concat(a)),console.error(a)}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"emailValidationSiteWrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo__image",src:L.a,alt:"logo"})),r.a.createElement("div",{className:"emailValidationSiteWrapper__validationMessage"},r.a.createElement("p",{className:"mainMessage"},"We are validating your email!"),r.a.createElement("p",{className:"secondaryMessage"},"please be patient it may take a while... "))))}),H=(t(196),function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(""),c=Object(i.a)(l,2),s=c[0],m=c[1],u=Object(y.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"logo__image",src:P.a,alt:"logo"})),r.a.createElement("div",{className:"SetNewPassWrapper"},r.a.createElement("div",{className:"textFormContainer"},r.a.createElement("h3",{className:"header"},"Welcome Back!"),r.a.createElement("p",{className:"underHeader"},"Set Your new password. Try not to forget it this time!"),r.a.createElement("form",{className:"SetNewPasswordForm",onSubmit:function(e){e.preventDefault();var a=new URLSearchParams(window.location.search).get("token"),n={newPassword:t,confirmNewPassword:s},r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};fetch(E.a.server.concat("/api/user/setNewPassword/".concat(a)),r).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).then((function(e){return e.json()})).then((function(e){e.error?(u.error("".concat(e.error)),console.error(e.error)):(u.success("The password has been successfully changed"),setTimeout((function(){window.location.replace(E.a.mainSite)}),5e3))})).catch((function(e){u.error("".concat(e)),console.error(e)}))}},r.a.createElement("div",{className:"SetNewPasswordForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"password",name:"newPasswordInput",id:"newPasswordInput",value:t,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"newPasswordInput",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"ForgotPassword-labelIcon",icon:h.a}),"new Password"))),r.a.createElement("div",{className:"SetNewPasswordForm__inputContainer inputContainer"},r.a.createElement("input",{className:"inputContainer__input",type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:s,onChange:function(e){m(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"confirmNewPassword",className:"inputContainer__label"},r.a.createElement("span",{className:"labelContent"},r.a.createElement(d.Icon,{className:"ForgotPassword-labelIcon",icon:h.a}),"confirm new Password"))),r.a.createElement("button",{className:"registrationForm__SignUpButton",type:"submit"},"Set")))))}),W=t(261),V=(t(197),t(133)),U=t.n(V),Y=t(137),J=t.n(Y),K=t(265),q=t(264),Z=t(298),X=t(8),Q=Object(W.a)((function(e){return{avatar:{height:38,width:38,marginRight:15},nonePic:{backgroundColor:"primary",height:38,width:38,marginRight:15}}})),$=Object(X.a)((function(e){return{badge:{marginRight:15,backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%"}}}}))(q.a),ee=function(){var e=Q();return r.a.createElement($,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},"undefined"!==S.a.get("pp")?r.a.createElement(Z.a,{alt:"userPicture",src:S.a.get("pp"),className:e.avatar}):r.a.createElement(Z.a,{alt:"userPicture",className:e.nonePic}))},ae=t(20),te=t.n(ae),ne=t(30),re=function(){var e={RJwt:S.a.get("RefreshToken")},a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(E.a.authServer.concat("/api/user/logout"),a).then((function(e){if(e.ok)return e;throw Error(e.status.toString())})).catch((function(e){return console.error(e)}))},oe=function(){return re(),S.a.remove("JsonWebToken"),S.a.remove("RefreshToken"),S.a.remove("pp"),window.location.reload()},le=function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.get("RefreshToken"),n={method:"GET",headers:{authorization:"Bearer ".concat(t)}},e.next=4,fetch(E.a.server.concat(a),n);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(ne.a)(te.a.mark((function e(a,t){var n,r,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.a.get("RefreshToken"),r={method:"POST",headers:{authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=4,fetch(E.a.server.concat(a),r);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.get("RefreshToken"),n={method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"}},e.next=4,fetch(E.a.server.concat(a),n);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),se=function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.get("RefreshToken"),n={method:"DELETE",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"}},e.next=4,fetch(E.a.server.concat(a),n);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();function me(e){var a=Math.abs(e),t=Math.floor(a),n=60*(a-t),r=Math.floor(n);return t+"\xb0"+r+"'"+Math.floor(60*(n-r))+"''"}var ue=function(e,a){return me(e)+(e>=0?"N":"S")+"  "+me(a)+(a>=0?"E":"W")},de=function(e){var a=Math.floor(e),t=e-a;return a+"h "+Math.round(60*t)+"min"},pe=function(e){var a=Object(n.useContext)(v);return r.a.createElement("header",{className:"Dashboard__header DHeader"},r.a.createElement("div",{className:"DHeader__Logo"},r.a.createElement(K.a,{"aria-label":"menu",onClick:function(){return e.setState({isMenuOpened:!e.state.isMenuOpened})}},r.a.createElement(J.a,{color:"primary"})),r.a.createElement(m.b,{to:"/dashboard",style:{display:"flex"}},r.a.createElement("img",{className:"DHeader__image",src:P.a,alt:"logo"})),r.a.createElement("h1",{className:"DHeader__title"},"Online Logbook")),r.a.createElement(ee,null),r.a.createElement("button",{className:"DHeader__SignOutBtn",onClick:function(){re(),a.setAuth(!1),S.a.remove("JsonWebToken"),S.a.remove("RefreshToken"),S.a.remove("pp")}},"Sign Out"))},ge=t(295),be=t(268),he=t(269),fe=t(138),Ee=t.n(fe),ye=t(38),ve=t.n(ye),xe=t(139),Se=t.n(xe),Oe=t(140),we=t.n(Oe),je=t(141),ke=t.n(je),Ce=t(146),Ne=t.n(Ce),Ie=t(147),Te=t.n(Ie),Me=t(145),Ae=t.n(Me),Fe=t(144),Pe=t.n(Fe),Ge=t(104),Be=t.n(Ge),_e=t(142),ze=t.n(_e),Le=t(219),Re=t(266),De=t(267),He=function(e){return r.a.createElement(m.b,{to:e.link},r.a.createElement(Le.a,{button:!0},r.a.createElement(Re.a,null," ",e.children," "),r.a.createElement(De.a,{primary:e.text})))},We=t(143),Ve=t.n(We),Ue=Object(W.a)((function(e){return{list:{overflowX:"hidden",width:260,height:"100%",display:"flex",flexDirection:"column"},beforeLastSection:{marginBottom:"auto"},start:{color:"green","& a":{color:"green"}},startIcon:{fill:"green"},add:{color:"#000046","& a":{color:"#000046"}},addIcon:{fill:"#000046"},stats:{color:"#0570e6","& a":{color:"#0570e6"}},statsIcon:{fill:"#0570e6"},danger:{color:"#e85214","& a":{color:"#e85214"}},dangerIcon:{fill:"#e85214"}}}));function Ye(e){var a=Ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{anchor:"left",open:e.state.isMenuOpened,onClose:function(){return e.setState({isMenuOpened:!e.state.isMenuOpened})},onOpen:function(){return e.setState({isMenuOpened:!e.state.isMenuOpened})}},r.a.createElement("div",{className:a.list,role:"presentation",onClick:function(){return e.setState({isMenuOpened:!e.state.isMenuOpened})},onKeyDown:function(){return e.setState({isMenuOpened:!e.state.isMenuOpened})}},r.a.createElement(be.a,null,r.a.createElement(He,{link:"/dashboard",text:"Your Dashboard"}," ",r.a.createElement(Ee.a,null)," ")),r.a.createElement(he.a,null),r.a.createElement(be.a,{className:a.start},r.a.createElement(He,{link:"/dashboard/start/cruise",text:"New cruise"}," ",r.a.createElement(ve.a,{className:a.startIcon})," "),r.a.createElement(He,{link:"/dashboard/start/day",text:"New day"}," ",r.a.createElement(ve.a,{className:a.startIcon})," ")),r.a.createElement(he.a,null),r.a.createElement(be.a,{className:a.add},r.a.createElement(He,{link:"/dashboard/add",text:"Add hourly entry"}," ",r.a.createElement(Se.a,{className:a.addIcon})," "),r.a.createElement(He,{link:"/dashboard/add/weather",text:"Add weather note"}," ",r.a.createElement(we.a,{className:a.addIcon})," "),r.a.createElement(He,{link:"/dashboard/add/action",text:"Add on-board action"}," ",r.a.createElement(ke.a,{className:a.addIcon})," "),r.a.createElement(He,{link:"/dashboard/add/waypoint",text:"Add waypoint"}," ",r.a.createElement(ze.a,{className:a.addIcon})," "),r.a.createElement(He,{link:"/dashboard/add/forecast",text:"Received forecast"}," ",r.a.createElement(Ve.a,{className:a.addIcon})," ")),r.a.createElement(he.a,null),r.a.createElement(be.a,{className:a.danger},r.a.createElement(He,{link:"/dashboard/finish/cruise",text:"Finish cruise"}," ",r.a.createElement(Be.a,{className:a.dangerIcon})," "),r.a.createElement(He,{link:"/dashboard/finish/day",text:"Finish sailing day"}," ",r.a.createElement(Be.a,{className:a.dangerIcon})," ")),r.a.createElement(he.a,null),r.a.createElement(be.a,{className:a.beforeLastSection+" "+a.stats},r.a.createElement(He,{link:"/dashboard/cruises",text:"My cruises"},r.a.createElement(Pe.a,{className:a.statsIcon})," "),r.a.createElement(He,{link:"/dashboard/map",text:"Map"},r.a.createElement(Ae.a,{className:a.statsIcon}))),r.a.createElement(he.a,null),r.a.createElement(be.a,null,r.a.createElement(He,{link:"/dashboard/settings",text:"Account settings"}," ",r.a.createElement(Ne.a,null)," "),r.a.createElement(He,{link:"/about",text:"About logbook"}," ",r.a.createElement(Te.a,null)," ")),r.a.createElement(he.a,null),r.a.createElement("span",{style:{textAlign:"center",color:"gray",fontSize:"13px",fontStyle:"italic",paddingBottom:"3px",paddingTop:"3px"}}," version ","1.0"),r.a.createElement("span",{style:{textAlign:"center",color:"gray",fontSize:"11px",fontStyle:"italic",paddingBottom:"3px",paddingTop:"3px"}}," \u24b8 2020 Jakub Olejnik"))))}var Je=t(9),Ke=t(56),qe=t(273),Ze=t(272),Xe=t(110),Qe=t(57),$e=t(296),ea=t(274),aa=t(92),ta=t.n(aa),na=Object(W.a)((function(e){return{GridContainer:{width:"100%",margin:0},paper:{padding:"2vw",textAlign:"center",color:"black",whiteSpace:"nowrap",background:"rgba(255, 255, 255, 0.64)",marginTop:"2vh",marginBottom:"2vh"}}})),ra=function(){var e=na(),a=r.a.useContext(v),t=Object(n.useState)(),o=Object(i.a)(t,2),l=o[0],c=o[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),b=g[0],h=g[1],f=Object(n.useState)(),E=Object(i.a)(f,2),y=E[0],x=E[1],S=Object(n.useState)({width:"100%",height:"395px",borderRadius:"5px",latitude:50.268561,longitude:-4.170343,zoom:9}),O=Object(i.a)(S,2),w=O[0],j=O[1],k=Object(n.useState)(),C=Object(i.a)(k,2),N=C[0],I=C[1],T=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),M=Object(i.a)(T,2),A=M[0],F=M[1];return Object(n.useEffect)((function(){try{le("/api/user").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),F(Object(Je.a)({},A,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.success?I(e.data):(d(!1),F(Object(Je.a)({},A,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}))}catch(e){console.log(e)}}),[]),Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){x(e),h([e.coords.latitude,e.coords.longitude]),j(Object(Je.a)({},w,{latitude:e.coords.latitude,longitude:e.coords.longitude})),d(!1),c(!0)}),(function(){j(w),d(!1),c(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:2,justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Ze.a,{item:!0,xs:12,md:3},r.a.createElement(Xe.a,{className:e.paper,style:{lineHeight:1.5,whiteSpace:"inherit",marginTop:"0",marginBottom:"0"}},r.a.createElement(Qe.a,{variant:"overline",style:{fontSize:"16px"}},"current GPS data:"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"compasIcon",style:{color:"#f50057",letterSpacing:"2px"}},"\ud83e\uddedPosition:")," ",b?ue(b[0],b[1]):" - "),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"#f50057",letterSpacing:"2px"}},"\ud83c\udf0aAltitude:")," ",b?Math.round(y.coords.altitude)+"m a.s.l":"- m a.s.l"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"headingIcon",style:{color:"#f50057",letterSpacing:"2px"}},"\u26f5\ufe0fHeading: "),b&&y.coords.heading?y.coords.heading+"\xb0":" -\xb0 "),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"#f50057",letterSpacing:"2px"}},"\ud83c\udf0fAccuracy:")," ",b?Math.round(y.coords.accuracy)+"m":" - "))),r.a.createElement(Ze.a,{item:!0,xs:12,md:3},r.a.createElement(Xe.a,{className:e.paper,style:{whiteSpace:"inherit",lineHeight:1.5,marginTop:"0",marginBottom:"0"}},r.a.createElement(Qe.a,{variant:"overline",style:{fontSize:"16px"}},"Account stats:"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"#f50057",letterSpacing:"2px"}}," \u2693\ufe0f Miles:")," ",N?(Math.round(100*N.milesSailed)/100).toFixed(2)+"nm":" - nm"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"compasIcon",style:{color:"#f50057",letterSpacing:"2px"}},"  \u23f3 Hours as sea:")," ",N?de(N.hours):" - "),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"headingIcon",style:{color:"#f50057",letterSpacing:"2px"}}," \u26f5\ufe0f on sails: "),N?de(N.onSails):" -\xb0 "),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"#f50057",letterSpacing:"2px"}}," \ud83d\udea4 on Engine:")," ",N?de(N.onEngine):" - "))),r.a.createElement(Ze.a,{item:!0,xs:12,md:6},r.a.createElement(Xe.a,{className:e.paper,style:{paddingBottom:".5vw",marginTop:"0",marginBottom:"0"}},r.a.createElement(Qe.a,{variant:"overline",style:{fontSize:"16px"}}," ",r.a.createElement("span",{role:"img","aria-label":"liveIcon"},"\ud83d\udfe2"),"Live weather:"),b&&r.a.createElement(oa,{yachtPosition:b}),u&&r.a.createElement("div",{style:{height:"115px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ia,null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading position...")),!l&&!u&&r.a.createElement("div",{style:{height:"115px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h5",null,"Ups we can't get your position... ",r.a.createElement("span",{role:"img","aria-label":"upsemoji"},"\ud83d\ude31")),r.a.createElement("h6",null,"You need to let us use your location")))),r.a.createElement($e.a,{smDown:!0},r.a.createElement(Ze.a,{item:!0,xs:12,md:6},r.a.createElement(Xe.a,{className:e.paper,style:{marginTop:"0",marginBottom:"0"}},r.a.createElement(la,{isLoading:u,viewport:w,yachtPosition:b,positionPermision:l})))),r.a.createElement(Ze.a,{item:!0,xs:12,md:6},r.a.createElement(Xe.a,{className:e.paper,style:{marginTop:"0",marginBottom:"0"}},b&&r.a.createElement("iframe",{style:{width:"100%",height:"378px",marginTop:"10px"},title:"forecast",src:"https://embed.windy.com/embed2.html?lat=".concat(b[0],"&lon=").concat(b[1],"&zoom=5&level=surface&overlay=rain&menu=&message=true&marker=true&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=").concat(b[0],"&detailLon=").concat(b[1],"&metricWind=kt&metricTemp=%C2%B0C&radarRange=-1"),frameBorder:"0"}),u&&r.a.createElement("div",{style:{width:"100%",height:"375px",marginTop:"10px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ia,null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading position...")),!l&&!u&&r.a.createElement("div",{style:{width:"100%",height:"375px",marginTop:"10px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h5",null,"Ups we can't get your position... ",r.a.createElement("span",{role:"img","aria-label":"upsemoji"},"\ud83d\ude31")),r.a.createElement("h6",null,"You need to let us use your location"))))))},oa=function(e){var a=e.yachtPosition,t=Object(qe.a)("(min-width:445px)"),o=na(),l=Object(n.useState)(),c=Object(i.a)(l,2),s=c[0],m=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.openweathermap.org/data/2.5/weather?lat=".concat(a[0],"&lon=").concat(a[1],"&units=metric&appid=").concat("d89b99bbfb1da2cdd5045257aec29362"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){m(e)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(Ze.a,{className:o.GridContainer,container:!0,spacing:2,justify:"flex-start",alignItems:"flex-start","flex-direction":"row"},r.a.createElement(Ze.a,{item:!0,xs:6,style:{textAlign:"center"}},r.a.createElement("img",{style:{verticalAlign:"middle"},src:"https://openweathermap.org/img/wn/".concat(s.weather[0].icon,"@2x.png"),alt:"weather icon"}),r.a.createElement("span",{style:{fontSize:"24px"}},(Math.round(100*s.main.temp)/100).toFixed(1)," \xb0C ")),r.a.createElement(Ze.a,{item:!0,xs:6,style:{textAlign:"center"}},r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"rgb(1,158,1)",letterSpacing:"2px"}}," \u2601\ufe0f ",t&&"cloudiness: "," "),s.clouds.all,"%"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"compasIcon",style:{color:"rgb(1,158,1)",letterSpacing:"2px"}},"  \ud83d\udca8 ",t&&"wind: ","  "),s.wind.speed," m/s, ",s.wind.deg,"\xb0"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"headingIcon",style:{color:"rgb(1,158,1)",letterSpacing:"2px"}}," \ud83d\udd50 ",t&&"pressure: "," "),s.main.pressure," hPa"),r.a.createElement("p",{style:{fontSize:"16px"}},r.a.createElement("span",{role:"img","aria-label":"accuracyIcon",style:{color:"rgb(1,158,1)",letterSpacing:"2px"}}," \ud83d\udca7",t&&"humidity: "," ")," ",s.main.humidity,"%"))):r.a.createElement("div",{style:{height:"115px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement(ia,null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading weather...")))},la=function(e){var a=e.isLoading,t=e.viewport,n=e.yachtPosition,o=e.positionPermision,l=na();return r.a.createElement(Ke.c,Object.assign({},t,{mapboxApiAccessToken:"pk.eyJ1IjoiamFrdWJvbGVqbmlrIiwiYSI6ImNrYTgxNjZ2bjA4bWgycnJ1ZHp6YWFnYngifQ.yomtRrXDqNpuRYbee6k9Hw",mapStyle:"mapbox://styles/jakubolejnik/cka83m23t24ph1iog6zhdz6bd"}),n&&r.a.createElement(Ke.a,{className:l.marker,latitude:n[0],longitude:n[1]},r.a.createElement("img",{style:{transform:"translate(-10px, -10px)"},src:ta.a,width:"20",height:"20",alt:"boaticon"})),a&&r.a.createElement("div",{style:{cursor:"default",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:"rgba(0,0,0,.75)",color:"snow"}},r.a.createElement(ca,null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading position...")),!o&&!a&&r.a.createElement("div",{style:{cursor:"default",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:"rgba(0,0,0,.75)",color:"snow"}},r.a.createElement("h5",null,"Ups we can't get your position... ",r.a.createElement("span",{role:"img","aria-label":"upsemoji"},"\ud83d\ude31")),r.a.createElement("h6",null,"You need to let us use your location")),r.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"transparent",cursor:"default"}}))},ca=Object(X.a)({root:{color:"snow"}})(ea.a),ia=Object(X.a)({root:{color:"black"}})(ea.a),sa=t(294),ma=t(279),ua=t(291),da=[{code:"AD",label:"Andorra",phone:"376"},{code:"AE",label:"United Arab Emirates",phone:"971"},{code:"AF",label:"Afghanistan",phone:"93"},{code:"AG",label:"Antigua and Barbuda",phone:"1-268"},{code:"AI",label:"Anguilla",phone:"1-264"},{code:"AL",label:"Albania",phone:"355"},{code:"AM",label:"Armenia",phone:"374"},{code:"AO",label:"Angola",phone:"244"},{code:"AQ",label:"Antarctica",phone:"672"},{code:"AR",label:"Argentina",phone:"54"},{code:"AS",label:"American Samoa",phone:"1-684"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"AW",label:"Aruba",phone:"297"},{code:"AX",label:"Alland Islands",phone:"358"},{code:"AZ",label:"Azerbaijan",phone:"994"},{code:"BA",label:"Bosnia and Herzegovina",phone:"387"},{code:"BB",label:"Barbados",phone:"1-246"},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BF",label:"Burkina Faso",phone:"226"},{code:"BG",label:"Bulgaria",phone:"359"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BI",label:"Burundi",phone:"257"},{code:"BJ",label:"Benin",phone:"229"},{code:"BL",label:"Saint Barthelemy",phone:"590"},{code:"BM",label:"Bermuda",phone:"1-441"},{code:"BN",label:"Brunei Darussalam",phone:"673"},{code:"BO",label:"Bolivia",phone:"591"},{code:"BR",label:"Brazil",phone:"55"},{code:"BS",label:"Bahamas",phone:"1-242"},{code:"BT",label:"Bhutan",phone:"975"},{code:"BV",label:"Bouvet Island",phone:"47"},{code:"BW",label:"Botswana",phone:"267"},{code:"BY",label:"Belarus",phone:"375"},{code:"BZ",label:"Belize",phone:"501"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{code:"CD",label:"Congo, Republic of the",phone:"242"},{code:"CF",label:"Central African Republic",phone:"236"},{code:"CG",label:"Congo, Democratic Republic of the",phone:"243"},{code:"CH",label:"Switzerland",phone:"41"},{code:"CI",label:"Cote d'Ivoire",phone:"225"},{code:"CK",label:"Cook Islands",phone:"682"},{code:"CL",label:"Chile",phone:"56"},{code:"CM",label:"Cameroon",phone:"237"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CR",label:"Costa Rica",phone:"506"},{code:"CU",label:"Cuba",phone:"53"},{code:"CV",label:"Cape Verde",phone:"238"},{code:"CW",label:"Curacao",phone:"599"},{code:"CX",label:"Christmas Island",phone:"61"},{code:"CY",label:"Cyprus",phone:"357"},{code:"CZ",label:"Czech Republic",phone:"420"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DJ",label:"Djibouti",phone:"253"},{code:"DK",label:"Denmark",phone:"45"},{code:"DM",label:"Dominica",phone:"1-767"},{code:"DO",label:"Dominican Republic",phone:"1-809"},{code:"DZ",label:"Algeria",phone:"213"},{code:"EC",label:"Ecuador",phone:"593"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"EH",label:"Western Sahara",phone:"212"},{code:"ER",label:"Eritrea",phone:"291"},{code:"ES",label:"Spain",phone:"34"},{code:"ET",label:"Ethiopia",phone:"251"},{code:"FI",label:"Finland",phone:"358"},{code:"FJ",label:"Fiji",phone:"679"},{code:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{code:"FM",label:"Micronesia, Federated States of",phone:"691"},{code:"FO",label:"Faroe Islands",phone:"298"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GA",label:"Gabon",phone:"241"},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GD",label:"Grenada",phone:"1-473"},{code:"GE",label:"Georgia",phone:"995"},{code:"GF",label:"French Guiana",phone:"594"},{code:"GG",label:"Guernsey",phone:"44"},{code:"GH",label:"Ghana",phone:"233"},{code:"GI",label:"Gibraltar",phone:"350"},{code:"GL",label:"Greenland",phone:"299"},{code:"GM",label:"Gambia",phone:"220"},{code:"GN",label:"Guinea",phone:"224"},{code:"GP",label:"Guadeloupe",phone:"590"},{code:"GQ",label:"Equatorial Guinea",phone:"240"},{code:"GR",label:"Greece",phone:"30"},{code:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{code:"GT",label:"Guatemala",phone:"502"},{code:"GU",label:"Guam",phone:"1-671"},{code:"GW",label:"Guinea-Bissau",phone:"245"},{code:"GY",label:"Guyana",phone:"592"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{code:"HN",label:"Honduras",phone:"504"},{code:"HR",label:"Croatia",phone:"385"},{code:"HT",label:"Haiti",phone:"509"},{code:"HU",label:"Hungary",phone:"36"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IL",label:"Israel",phone:"972"},{code:"IM",label:"Isle of Man",phone:"44"},{code:"IN",label:"India",phone:"91"},{code:"IO",label:"British Indian Ocean Territory",phone:"246"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran, Islamic Republic of",phone:"98"},{code:"IS",label:"Iceland",phone:"354"},{code:"IT",label:"Italy",phone:"39"},{code:"JE",label:"Jersey",phone:"44"},{code:"JM",label:"Jamaica",phone:"1-876"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KE",label:"Kenya",phone:"254"},{code:"KG",label:"Kyrgyzstan",phone:"996"},{code:"KH",label:"Cambodia",phone:"855"},{code:"KI",label:"Kiribati",phone:"686"},{code:"KM",label:"Comoros",phone:"269"},{code:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{code:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{code:"KR",label:"Korea, Republic of",phone:"82"},{code:"KW",label:"Kuwait",phone:"965"},{code:"KY",label:"Cayman Islands",phone:"1-345"},{code:"KZ",label:"Kazakhstan",phone:"7"},{code:"LA",label:"Lao People's Democratic Republic",phone:"856"},{code:"LB",label:"Lebanon",phone:"961"},{code:"LC",label:"Saint Lucia",phone:"1-758"},{code:"LI",label:"Liechtenstein",phone:"423"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"LR",label:"Liberia",phone:"231"},{code:"LS",label:"Lesotho",phone:"266"},{code:"LT",label:"Lithuania",phone:"370"},{code:"LU",label:"Luxembourg",phone:"352"},{code:"LV",label:"Latvia",phone:"371"},{code:"LY",label:"Libya",phone:"218"},{code:"MA",label:"Morocco",phone:"212"},{code:"MC",label:"Monaco",phone:"377"},{code:"MD",label:"Moldova, Republic of",phone:"373"},{code:"ME",label:"Montenegro",phone:"382"},{code:"MF",label:"Saint Martin (French part)",phone:"590"},{code:"MG",label:"Madagascar",phone:"261"},{code:"MH",label:"Marshall Islands",phone:"692"},{code:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{code:"ML",label:"Mali",phone:"223"},{code:"MM",label:"Myanmar",phone:"95"},{code:"MN",label:"Mongolia",phone:"976"},{code:"MO",label:"Macao",phone:"853"},{code:"MP",label:"Northern Mariana Islands",phone:"1-670"},{code:"MQ",label:"Martinique",phone:"596"},{code:"MR",label:"Mauritania",phone:"222"},{code:"MS",label:"Montserrat",phone:"1-664"},{code:"MT",label:"Malta",phone:"356"},{code:"MU",label:"Mauritius",phone:"230"},{code:"MV",label:"Maldives",phone:"960"},{code:"MW",label:"Malawi",phone:"265"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"MZ",label:"Mozambique",phone:"258"},{code:"NA",label:"Namibia",phone:"264"},{code:"NC",label:"New Caledonia",phone:"687"},{code:"NE",label:"Niger",phone:"227"},{code:"NF",label:"Norfolk Island",phone:"672"},{code:"NG",label:"Nigeria",phone:"234"},{code:"NI",label:"Nicaragua",phone:"505"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NR",label:"Nauru",phone:"674"},{code:"NU",label:"Niue",phone:"683"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PA",label:"Panama",phone:"507"},{code:"PE",label:"Peru",phone:"51"},{code:"PF",label:"French Polynesia",phone:"689"},{code:"PG",label:"Papua New Guinea",phone:"675"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PL",label:"Poland",phone:"48"},{code:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{code:"PN",label:"Pitcairn",phone:"870"},{code:"PR",label:"Puerto Rico",phone:"1"},{code:"PS",label:"Palestine, State of",phone:"970"},{code:"PT",label:"Portugal",phone:"351"},{code:"PW",label:"Palau",phone:"680"},{code:"PY",label:"Paraguay",phone:"595"},{code:"QA",label:"Qatar",phone:"974"},{code:"RE",label:"Reunion",phone:"262"},{code:"RO",label:"Romania",phone:"40"},{code:"RS",label:"Serbia",phone:"381"},{code:"RU",label:"Russian Federation",phone:"7"},{code:"RW",label:"Rwanda",phone:"250"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SB",label:"Solomon Islands",phone:"677"},{code:"SC",label:"Seychelles",phone:"248"},{code:"SD",label:"Sudan",phone:"249"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"SH",label:"Saint Helena",phone:"290"},{code:"SI",label:"Slovenia",phone:"386"},{code:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{code:"SK",label:"Slovakia",phone:"421"},{code:"SL",label:"Sierra Leone",phone:"232"},{code:"SM",label:"San Marino",phone:"378"},{code:"SN",label:"Senegal",phone:"221"},{code:"SO",label:"Somalia",phone:"252"},{code:"SR",label:"Suriname",phone:"597"},{code:"SS",label:"South Sudan",phone:"211"},{code:"ST",label:"Sao Tome and Principe",phone:"239"},{code:"SV",label:"El Salvador",phone:"503"},{code:"SX",label:"Sint Maarten (Dutch part)",phone:"1-721"},{code:"SY",label:"Syrian Arab Republic",phone:"963"},{code:"SZ",label:"Swaziland",phone:"268"},{code:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{code:"TD",label:"Chad",phone:"235"},{code:"TF",label:"French Southern Territories",phone:"262"},{code:"TG",label:"Togo",phone:"228"},{code:"TH",label:"Thailand",phone:"66"},{code:"TJ",label:"Tajikistan",phone:"992"},{code:"TK",label:"Tokelau",phone:"690"},{code:"TL",label:"Timor-Leste",phone:"670"},{code:"TM",label:"Turkmenistan",phone:"993"},{code:"TN",label:"Tunisia",phone:"216"},{code:"TO",label:"Tonga",phone:"676"},{code:"TR",label:"Turkey",phone:"90"},{code:"TT",label:"Trinidad and Tobago",phone:"1-868"},{code:"TV",label:"Tuvalu",phone:"688"},{code:"TW",label:"Taiwan, Province of China",phone:"886"},{code:"TZ",label:"United Republic of Tanzania",phone:"255"},{code:"UA",label:"Ukraine",phone:"380"},{code:"UG",label:"Uganda",phone:"256"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"UY",label:"Uruguay",phone:"598"},{code:"UZ",label:"Uzbekistan",phone:"998"},{code:"VA",label:"Holy See (Vatican City State)",phone:"379"},{code:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{code:"VE",label:"Venezuela",phone:"58"},{code:"VG",label:"British Virgin Islands",phone:"1-284"},{code:"VI",label:"US Virgin Islands",phone:"1-340"},{code:"VN",label:"Vietnam",phone:"84"},{code:"VU",label:"Vanuatu",phone:"678"},{code:"WF",label:"Wallis and Futuna",phone:"681"},{code:"WS",label:"Samoa",phone:"685"},{code:"XK",label:"Kosovo",phone:"383"},{code:"YE",label:"Yemen",phone:"967"},{code:"YT",label:"Mayotte",phone:"262"},{code:"ZA",label:"South Africa",phone:"27"},{code:"ZM",label:"Zambia",phone:"260"},{code:"ZW",label:"Zimbabwe",phone:"263"}],pa=t(154),ga=t(42),ba=t(290),ha=t(297),fa=t(293),Ea=t(275),ya=function(e){var a=e.allert,t=e.setAllert,n=function(e,n){"clickaway"!==n&&t(Object(Je.a)({},a,{open:!1}))};return r.a.createElement(ha.a,{open:a.open,autoHideDuration:a.duration,onClose:n},r.a.createElement((function(e){return r.a.createElement(fa.a,Object.assign({elevation:6,variant:a.variant},e))}),{onClose:n,severity:a.type},r.a.createElement(Ea.a,null,a.title),a.msg))},va=t(27),xa=Object(W.a)((function(e){return{GridContainer:{width:"100%",margin:0},noBottomMargin:{marginBottom:0,padding:"0px !important"},paper:{padding:"1vw",textAlign:"center",color:"black",whiteSpace:"wrap",background:"rgba(255, 255, 255, .9)"},buttonBgc:{backgroundColor:"rgb(66,133,235)","&:hover":{backgroundColor:"rgb(26,107,230)"}},dangerButton:{backgroundColor:"rgb(231,87,23)","&:hover":{backgroundColor:"rgb(231,87,23)"}},backdrop:{marginTop:"60px",zIndex:e.zIndex.drawer+1,color:"#fff","& .MuiCircularProgress-root":{width:"70px !important",height:"70px !important"}},rowOfColumnGrid:{width:"80%",maxWidth:"400px"},textAlignLeft:{textAlign:"left"},GPSInput:{padding:"6px",fontSize:"16px",border:"2px solid rgb(66,133,235)",borderRadius:"5px",outline:"none",width:"100%",maxWidth:"275px",backgroundColor:"transparent"},root:{maxWidth:"100%","& .MuiCardHeader-title":{fontSize:"18px"},"& .MuiCardHeader-subheader":{fontSize:"16px"},"& .MuiCardContent-root":{paddingBottom:0},"& .MuiCardActions-root":{paddingTop:0}},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"navy"},popup:{"& .mapboxgl-popup-tip":{},"& .mapboxgl-popup-close-button":{padding:"0px 5px 0px 0px"}},marker:{"& img":{transform:"translate(-12px, -24px)"}}}})),Sa=Object(X.a)({root:{"& label.Mui-focused":{color:"rgb(66,133,235)"},"& .MuiInput-underline:after":{borderBottomColor:"rgb(66,133,235)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgb(66,133,235)",borderWidth:1.5},"&:hover fieldset":{borderColor:"rgb(66,133,235)"},"&.Mui-focused fieldset":{borderColor:"rgb(66,133,235)"}}}})(sa.a),Oa=t(220),wa=function(e){var a=e.isLoadeing,t=xa();return r.a.createElement(Oa.a,{className:t.backdrop,open:a},r.a.createElement(ea.a,{color:"inherit"}))},ja=Object(X.a)({root:{"& label.Mui-focused":{color:"rgb(66,133,235)"},"& .MuiInput-underline:after":{borderBottomColor:"rgb(66,133,235)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgb(66,133,235)",borderWidth:1.5},"&:hover fieldset":{borderColor:"rgb(66,133,235)"},"&.Mui-focused fieldset":{borderColor:"rgb(66,133,235)"}}}})(ua.a),ka=Object(X.a)({root:{borderBottomColor:"rgb(66,133,235)",width:"194px","& .MuiSvgIcon-root":{fill:"rgb(66,133,235)"},"& label.Mui-focused":{color:"rgb(66,133,235)"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"rgb(66,133,235)"},"& .MuiInput-underline":{borderBottomColor:"rgb(66,133,235)"},"& .MuiInput-underline:after":{borderBottomColor:"rgb(66,133,235)"},"& .MuiInput-underline:before":{borderBottomColor:"rgb(66,133,235)",borderWidth:1.5}}})(ba.a),Ca=function(e){var a=Object(n.useContext)(v),t=xa(),o=Object(va.b)(),l=o.handleSubmit,c=o.register,u=r.a.useState(new Date),d=Object(i.a)(u,2),p=d[0],g=d[1],b=r.a.useState(void 0),h=Object(i.a)(b,2),f=h[0],E=h[1],y=r.a.useState(!0),x=Object(i.a)(y,2),S=x[0],O=x[1],w=r.a.useState(!1),j=Object(i.a)(w,2),k=j[0],C=j[1],N=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),I=Object(i.a)(N,2),T=I[0],M=I[1],A=function(e){g(e)},F=function(e,t){e.cruise.startDate=(new Date).toJSON();var n=e.boat,r=e.cruise;if(""===n.name||""===n.MMSI||""===r.country||""===r.sailingArea||""===r.harbour)return M(Object(Je.a)({},T,{open:!0,msg:"fill all required inputs marked by *",title:"bad inputs",type:"error"}));if(!/^[0-9]{9}$/.test(n.MMSI))return M(Object(Je.a)({},T,{open:!0,type:"warning",title:"incorrect MMSI",msg:"MMSI number have nine digits"}));try{O(!0),ce("/api/cruises",e).then((function(e){if(e.error&&401===e.error.code)M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return O(!1),M(Object(Je.a)({},T,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(O(!1),M(Object(Je.a)({},T,{open:!0,type:"success",title:"success",msg:"cruise was created"})),setTimeout((function(){return C(!0)}),4e3)):(O(!1),M(Object(Je.a)({},T,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(o){O(!1),M(Object(Je.a)({},T,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};Object(n.useEffect)((function(){try{le("/api/cruises/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):1===e.data.length?(E(!1),O(!1)):(E(!0),O(!1))}))}catch(e){console.log(e)}}),[]);return r.a.createElement(r.a.Fragment,null,function(){if(k)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:t.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:4},r.a.createElement(wa,{isLoadeing:S}),!1===f?r.a.createElement((function(){return r.a.createElement(Xe.a,{className:t.paper},r.a.createElement(Ze.a,{className:t.GridContainer,container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement("p",null,"Oops! It looks like you've already started a cruise. "),r.a.createElement("p",null,r.a.createElement(m.b,{to:"/dashboard/finish/cruise",style:{color:"rgb(66,133,235)",textDecoration:"underline"}},"Finish it")," before starting the next one"))))}),null):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:t.paper},r.a.createElement("form",{onSubmit:l(F)},r.a.createElement(Ze.a,{className:t.GridContainer,container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Start cruise")),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{variant:"overline"},"geographical data")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(ja,{id:"combo-box-demo",options:da,getOptionLabel:function(e){return e.label},renderOption:function(e){return r.a.createElement("span",null,(a=e.code,"undefined"!==typeof String.fromCodePoint?a.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)})):a),e.label);var a},size:"small",style:{maxWidth:"194px",margin:"0 auto"},renderInput:function(e){return r.a.createElement(sa.a,Object.assign({},e,{name:"cruise.country",label:"country*",variant:"outlined",inputRef:c()}))}})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"sailing area*",variant:"outlined",size:"small",inputRef:c(),name:"cruise.sailingArea"})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"starting harbor*",variant:"outlined",size:"small",name:"cruise.harbour",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(ga.a,{utils:pa.a},r.a.createElement(ka,{id:"date-picker-dialog",label:"start date",size:"small",disabled:!0,format:"MM/dd/yyyy",value:p,onChange:A,KeyboardButtonProps:{"aria-label":"change date"},name:"cruise.startDate",inputRef:c()}))),r.a.createElement(Ze.a,{item:!0,xs:12,style:{borderBottom:"1px solid black"}}),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{variant:"overline"},"boat data")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"name*",variant:"outlined",size:"small",name:"boat.name",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"type and length",variant:"outlined",size:"small",name:"boat.type",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"MMSI number*",variant:"outlined",size:"small",name:"boat.MMSI",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"new",id:"outlined-basic",label:"draft",variant:"outlined",size:"small",name:"boat.draft",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,className:t.noBottomMargin},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:t.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"sail")))))}),null)),r.a.createElement(ya,{allert:T,setAllert:M})))},Na=t(301),Ia=t(300),Ta=Object(X.a)({root:{color:"rgb(66,133,235)",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(Ia.a),Ma=function(e){var a=e.disableFormProps,t=xa();return r.a.createElement(Xe.a,{className:t.paper},r.a.createElement(Ze.a,{className:t.GridContainer,container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement("p",null,a.msg1," "),r.a.createElement("p",null,r.a.createElement(m.b,{to:a.link,style:{color:"rgb(66,133,235)",textDecoration:"underline"}},a.linkMsg)," ",a.msg2))))},Aa={day:{oil:!1,fuel:50,freshWater:50}},Fa=function(){var e=Object(n.useContext)(v),a=xa(),t=Object(va.b)({defaultValues:Aa}),o=t.register,l=t.handleSubmit,c=t.control,m=r.a.useState(void 0),u=Object(i.a)(m,2),d=u[0],p=u[1],g=r.a.useState(!0),b=Object(i.a)(g,2),h=b[0],f=b[1],E=r.a.useState(!1),y=Object(i.a)(E,2),x=y[0],S=y[1],O=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),N=Object(i.a)(C,2),I=N[0],T=N[1];Object(n.useEffect)((function(){try{le("/api/days/current").then((function(a){a.error&&401===a.error.code?(console.log("unauthorized"),k(Object(Je.a)({},j,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3)):a.error&&"there is no active cruise"===a.error.msg?(T({msg1:"Oops! It looks like you don't have active cruise.",link:"/dashboard/start/cruise",linkMsg:"Start it",msg2:"before starting a day!"}),p(!1),f(!1)):a.data&&1===a.data.length?(T({msg1:"Oops! It looks like you've already started a day.",link:"/dashboard/finish/day",linkMsg:"Finish it",msg2:"before starting the next one"}),p(!1),f(!1)):(p(!0),f(!1))}))}catch(a){console.log(a)}}),[]);var M=function(a){a.day.date=(new Date).toJSON();var t=a.day;if(""===t.startHarbour||""===t.engineMth||""===t.startLOG)return k(Object(Je.a)({},j,{open:!0,msg:"fill all required inputs marked by *",title:"bad inputs",type:"error"}));for(var n=parseFloat(a.day.startLOG.replace(",",".")),r=0;r<a.day.startLOG.length;r++){var o=a.day.startLOG.charAt(r).charCodeAt(0);(o<48&&46!==o&&44!==o||o>57)&&(n=NaN)}if(isNaN(n))return k(Object(Je.a)({},j,{open:!0,type:"error",title:"invalid LOG",msg:"please enter valid LOG"}));a.day.startLOG=n;for(var l=parseFloat(a.day.engineMth.replace(",",".")),c=0;c<a.day.engineMth.length;c++){var i=a.day.engineMth.charAt(c).charCodeAt(0);(i<48&&46!==i&&44!==i||i>57)&&(l=NaN)}if(isNaN(l))return k(Object(Je.a)({},j,{open:!0,type:"error",title:"invalid Mth",msg:"please enter valid Mth"}));a.day.engineMth=l;try{f(!0),ce("/api/days",a).then((function(a){if(a.error&&401===a.error.code)console.log("unauthorized"),k(Object(Je.a)({},j,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3);else{if(a.error)return f(!1),k(Object(Je.a)({},j,{open:!0,type:"warning",title:a.error.code,msg:a.error.msg}));a.success?(f(!1),k(Object(Je.a)({},j,{open:!0,type:"success",title:"success",msg:"day was started. Happy Boating!"})),setTimeout((function(){return S(!0)}),4e3)):(f(!1),k(Object(Je.a)({},j,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(s){f(!1),k(Object(Je.a)({},j,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(x)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:4},r.a.createElement(wa,{isLoadeing:h}),!1===d?r.a.createElement(Ma,{disableFormProps:I}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:a.paper},r.a.createElement("form",{onSubmit:l(M)},r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:3,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Start Day")),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{variant:"overline"},"mandatory data")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"starting harbor*",variant:"outlined",size:"small",name:"day.startHarbor",inputRef:o()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"engine Mth*",variant:"outlined",size:"small",name:"day.engineMth",inputRef:o()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Sa,{autoComplete:"newStartLOG",id:"outlined-basic",label:"start LOG*",variant:"outlined",size:"small",name:"day.startLOG",inputRef:o()})),r.a.createElement(Ze.a,{item:!0,xs:12,style:{borderBottom:"1px solid black"}}),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{variant:"overline"}," check before sailing ")),r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,direction:"column",spacing:3,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe.a,{id:"discrete-slider",gutterBottom:!0},"engine oil check"),r.a.createElement(va.a,{as:Pa,type:"checkbox",name:"day.oil",control:c})),r.a.createElement(Ze.a,{item:!0,className:a.rowOfColumnGrid},r.a.createElement(Qe.a,{id:"discrete-slider",gutterBottom:!0,className:a.textAlignLeft},"fuel tank"),r.a.createElement(va.a,{name:"day.fuel",control:c,onChange:function(e){return Object(i.a)(e,2)[1]},as:r.a.createElement(Ta,{valueLabelDisplay:"auto",max:100,min:0,step:10,marks:!0})})),r.a.createElement(Ze.a,{item:!0,className:a.rowOfColumnGrid},r.a.createElement(Qe.a,{id:"discrete-slider",gutterBottom:!0,className:a.textAlignLeft},"fresh water tanks"),r.a.createElement(va.a,{name:"day.freshWater",control:c,onChange:function(e){return Object(i.a)(e,2)[1]},as:r.a.createElement(Ta,{valueLabelDisplay:"auto",max:100,min:0,step:10,marks:!0})}))),r.a.createElement(Ze.a,{item:!0,xs:12,className:a.noBottomMargin},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:a.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"sail")))))}),null)),r.a.createElement(ya,{allert:j,setAllert:k})))},Pa=Object(X.a)({switchBase:{color:"rgb(128,173,255)","&$checked":{color:"rgb(66,133,235)"},"&$checked + $track":{backgroundColor:"rgb(66,133,235)"}},checked:{},track:{}})(Na.a),Ga=t(276),Ba=t(292),_a=t(283),za=t(94),La=t(95),Ra=t.n(La),Da={data:{windDirection:"N",windSpeed:0,seaState:0}},Ha=function(e){var a=r.a.useContext(v),t=Ra()(),n=Object(qe.a)("(min-width:600px)"),o=Object(qe.a)("(max-width:600px)"),l=Object(va.b)({defaultValues:Da}),c=l.register,m=l.handleSubmit,u=l.control,d=r.a.useState(!1),p=Object(i.a)(d,2),g=p[0],b=p[1],h=r.a.useState(!0),f=Object(i.a)(h,2),E=f[0],y=f[1],x=r.a.useState(void 0),O=Object(i.a)(x,2),w=O[0],j=O[1],k=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),C=Object(i.a)(k,2),N=C[0],I=C[1],T=r.a.useState(!0),M=Object(i.a)(T,2),A=M[0],F=M[1],P=xa(),G={lat:0,lng:0},B=r.a.useState({lat:0,lng:0}),_=Object(i.a)(B,2),z=_[0],L=_[1];r.a.useEffect((function(){t.isMobile()&&S.a.get("GPSmoduleDisabled")&&F(!1);try{le("/api/days/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),V(Object(Je.a)({},W,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?(j(!0),y(!1)):(I({msg1:"Oops! It looks like you have no active day.",link:"/dashboard/start/day",linkMsg:"Start it",msg2:"before add hour entry"}),j(!1),y(!1))}))}catch(e){console.log(e)}}),[]);var R=function(e,a){var t=a.dd;a.dms,a.dmsArray;G.lat=t[0],G.lng=t[1]},D=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),H=Object(i.a)(D,2),W=H[0],V=H[1],U=function(e){if(""===e.data.log||0===e.data.longitude||0===e.data.latitude)return V(Object(Je.a)({},W,{open:!0,msg:"fill all required inputs marked by *",title:"bad inputs",type:"error"}));if(t.isMobile()?(e.data.latitude=z.lat,e.data.longitude=z.lng):(e.data.latitude=G.lat,e.data.longitude=G.lng),e.data.compasCourse<0||e.data.compasCourse>360||isNaN(parseInt(e.data.compasCourse)))return V(Object(Je.a)({},W,{open:!0,type:"error",title:"invalid course",msg:"please enter valid Compas Course"}));e.data.compasCourse=parseInt(e.data.compasCourse);for(var n=parseFloat(e.data.boatSpeed.replace(",",".")),r=0;r<e.data.boatSpeed.length;r++){var o=e.data.boatSpeed.charAt(r).charCodeAt(0);(o<48&&46!==o&&44!==o||o>57)&&(n=NaN)}if(isNaN(n))return V(Object(Je.a)({},W,{open:!0,type:"error",title:"invalid nput",msg:"please enter valid boat speed"}));e.data.boatSpeed=n;for(var l=parseFloat(e.data.log.replace(",",".")),c=0;c<e.data.log.length;c++){var i=e.data.log.charAt(c).charCodeAt(0);(i<48&&46!==i&&44!==i||i>57)&&(l=NaN)}if(isNaN(l))return V(Object(Je.a)({},W,{open:!0,type:"error",title:"invalid LOG",msg:"please enter valid LOG"}));e.data.log=l;var s=(new Date).getHours();(new Date).getMinutes()>=30&&(23===s?s=0:s+=1),e.data.hour=s;try{t.isMobile()&&window.scrollTo(0,0),y(!0),ce("/api/days/hourly",e).then((function(e){if(e.error&&401===e.error.code)V(Object(Je.a)({},W,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return y(!1),V(Object(Je.a)({},W,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(y(!1),V(Object(Je.a)({},W,{open:!0,type:"success",title:"success",msg:"hour entry was added!"})),setTimeout((function(){return b(!0)}),4e3)):(y(!1),V(Object(Je.a)({},W,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(m){y(!1),V(Object(Je.a)({},W,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}},Y=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){L({lat:e.coords.latitude,lng:e.coords.longitude})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,function(){if(g)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:P.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:E}),!1===w?r.a.createElement(Ma,{disableFormProps:N}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:P.paper},r.a.createElement("form",{onSubmit:m(U)},r.a.createElement(Ze.a,{className:P.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:o?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Hour Entry ",(new Date).toLocaleTimeString())),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},t.isMobile()&&A?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga.a,{value:ue(z.lat,z.lng),style:{width:"80%"},inputProps:{min:0,style:{textAlign:"center"}}}),r.a.createElement(ma.a,{onClick:Y,variant:"outlined",color:"secondary",style:{marginTop:"10px"}}," first click to get position*"),r.a.createElement(Qe.a,{variant:"body2",style:{color:"gray",fontSize:"11px"}},"this may take a while"),r.a.createElement(Qe.a,{variant:"body2",onClick:function(){S.a.set("GPSmoduleDisabled",!0,{expires:365}),F(!1)},style:{padding:"2px",width:"150px",margin:"0 auto",color:"rgb(66,133,235)",textDecoration:"underline",fontSize:"11px"}},"Use traditional input")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"overline",style:{width:"100%",display:"block"}},"GPS position*"),r.a.createElement(za.a,{onChange:R,className:P.GPSInput}),t.isMobile()&&S.a.get("GPSmoduleDisabled")&&r.a.createElement(Qe.a,{variant:"body2",onClick:function(){S.a.remove("GPSmoduleDisabled"),F(!0)},style:{padding:"2px",width:"150px",margin:"0 auto",color:"rgb(66,133,235)",textDecoration:"underline",fontSize:"11px"}},"Use Mobile GPS module"))),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6,style:n?{paddingTop:"43px"}:{}},r.a.createElement(Sa,{autoComplete:"newcourse",id:"outlined-basic",label:"Compas Course*",variant:"outlined",size:"small",type:"number",name:"data.compasCourse",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:3},r.a.createElement(Sa,{autoComplete:"newsailsState",id:"outlined-basic",label:"sails state",variant:"outlined",size:"small",type:"text",name:"data.sailsState",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:3},r.a.createElement(Sa,{autoComplete:"newengineState",id:"outlined-basic",label:"engine state",variant:"outlined",size:"small",type:"text",name:"data.engineState",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:3},r.a.createElement(Sa,{autoComplete:"newboatspeed",id:"outlined-basic",label:"speed (knt)",variant:"outlined",size:"small",type:"text",name:"data.boatSpeed",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:3},r.a.createElement(Sa,{autoComplete:"newLog",id:"outlined-basic",label:"log*",variant:"outlined",size:"small",type:"text",name:"data.log",inputRef:c()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Qe.a,{variant:"overline",style:{marginRight:"10px",color:"rgb(66,133,235)"}},"Wind direction"),r.a.createElement(va.a,{as:r.a.createElement(Ba.a,null,r.a.createElement(_a.a,{value:"N"},"N"),r.a.createElement(_a.a,{value:"NE"},"NE"),r.a.createElement(_a.a,{value:"E"},"E"),r.a.createElement(_a.a,{value:"SE"},"SE"),r.a.createElement(_a.a,{value:"S"},"S"),r.a.createElement(_a.a,{value:"SW"},"SW"),r.a.createElement(_a.a,{value:"W"},"W"),r.a.createElement(_a.a,{value:"NW"},"NW")),name:"data.windDirection",control:u})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Qe.a,{variant:"overline",style:{marginRight:"10px",color:"rgb(66,133,235)"}},"Wind speed in \xb0B"),r.a.createElement(va.a,{as:r.a.createElement(Ba.a,null,r.a.createElement(_a.a,{value:0},"0"),r.a.createElement(_a.a,{value:1},"1"),r.a.createElement(_a.a,{value:2},"2"),r.a.createElement(_a.a,{value:3},"3"),r.a.createElement(_a.a,{value:4},"4"),r.a.createElement(_a.a,{value:5},"5"),r.a.createElement(_a.a,{value:6},"6"),r.a.createElement(_a.a,{value:7},"7"),r.a.createElement(_a.a,{value:8},"8"),r.a.createElement(_a.a,{value:9},"9"),r.a.createElement(_a.a,{value:10},"10"),r.a.createElement(_a.a,{value:11},"11"),r.a.createElement(_a.a,{value:12},"12")),name:"data.windSpeed",control:u})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:4},r.a.createElement(Qe.a,{variant:"overline",style:{marginRight:"10px",color:"rgb(66,133,235)"}},"sea state scale"),r.a.createElement(va.a,{as:r.a.createElement(Ba.a,null,r.a.createElement(_a.a,{value:0},"0"),r.a.createElement(_a.a,{value:1},"1"),r.a.createElement(_a.a,{value:2},"2"),r.a.createElement(_a.a,{value:3},"3"),r.a.createElement(_a.a,{value:4},"4"),r.a.createElement(_a.a,{value:5},"5"),r.a.createElement(_a.a,{value:6},"6"),r.a.createElement(_a.a,{value:7},"7"),r.a.createElement(_a.a,{value:8},"8"),r.a.createElement(_a.a,{value:9},"9")),name:"data.seaState",control:u})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:P.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"enter")))))}),null)),r.a.createElement(ya,{allert:W,setAllert:V})))},Wa={data:{overcast:0}},Va=function(){var e=r.a.useContext(v),a=xa(),t=Object(va.b)({defaultValues:Wa}),n=t.register,o=t.handleSubmit,l=t.control,c=Object(qe.a)("(max-width:600px)"),m=r.a.useState(!0),u=Object(i.a)(m,2),d=u[0],p=u[1],g=r.a.useState(!1),b=Object(i.a)(g,2),h=b[0],f=b[1],E=r.a.useState(void 0),y=Object(i.a)(E,2),x=y[0],S=y[1],O=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),N=Object(i.a)(C,2),I=N[0],T=N[1];r.a.useEffect((function(){try{le("/api/days/current").then((function(a){a.error&&401===a.error.code?(console.log("unauthorized"),T(Object(Je.a)({},I,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3)):a.data&&1===a.data.length?(S(!0),p(!1)):(k({msg1:"Oops! It looks like you have no active day.",link:"/dashboard/start/day",linkMsg:"Start it",msg2:"before add weather entry"}),S(!1),p(!1))}))}catch(a){console.log(a)}}),[]);var M=function(a){if(""===a.data.temperature||""===a.data.pressure)return T(Object(Je.a)({},I,{open:!0,msg:"fill all required inputs marked by *",title:"bad inputs",type:"error"}));for(var t=parseFloat(a.data.temperature.replace(",",".")),n=0;n<a.data.temperature.length;n++){var r=a.data.temperature.charAt(n).charCodeAt(0);(r<48&&46!==r&&44!==r||r>57)&&(t=NaN)}if(isNaN(t))return T(Object(Je.a)({},I,{open:!0,type:"error",title:"invalid LOG",msg:"please enter valid LOG"}));a.data.temperature=t;for(var o=parseFloat(a.data.pressure.replace(",",".")),l=0;l<a.data.pressure.length;l++){var c=a.data.pressure.charAt(l).charCodeAt(0);(c<48&&46!==c&&44!==c||c>57)&&(o=NaN)}if(isNaN(o))return T(Object(Je.a)({},I,{open:!0,type:"error",title:"invalid LOG",msg:"please enter valid LOG"}));a.data.pressure=o;var i=(new Date).getHours();(new Date).getMinutes()>=30&&(23===i?i=0:i+=1),a.data.hour=i;try{p(!0),ce("/api/days/weather",a).then((function(a){if(a.error&&401===a.error.code)T(Object(Je.a)({},I,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3);else{if(a.error)return p(!1),T(Object(Je.a)({},I,{open:!0,type:"warning",title:a.error.code,msg:a.error.msg}));a.success?(p(!1),T(Object(Je.a)({},I,{open:!0,type:"success",title:"success",msg:"weather entry was added!"})),setTimeout((function(){return f(!0)}),4e3)):(p(!1),T(Object(Je.a)({},I,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(s){p(!1),T(Object(Je.a)({},I,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(h)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:d}),!1===x?r.a.createElement(Ma,{disableFormProps:j}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:a.paper},r.a.createElement("form",{onSubmit:o(M)},r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:c?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Weather Entry ",(new Date).toLocaleTimeString())),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},r.a.createElement(Sa,{autoComplete:"newTemperature",id:"outlined-basic",label:"temperature* \xb0C",variant:"outlined",size:"small",type:"text",name:"data.temperature",inputRef:n()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},r.a.createElement(Sa,{autoComplete:"newPressure",id:"outlined-basic",label:"pressure* hPa",variant:"outlined",size:"small",type:"text",name:"data.pressure",inputRef:n()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},r.a.createElement(Qe.a,{variant:"overline",style:{marginRight:"10px",color:"rgb(66,133,235)"}},"overcast*"),r.a.createElement(va.a,{as:r.a.createElement(Ba.a,null,r.a.createElement(_a.a,{value:0},"zero"),r.a.createElement(_a.a,{value:10},"changing"),r.a.createElement(_a.a,{value:.25},"1/4"),r.a.createElement(_a.a,{value:.5},"1/2"),r.a.createElement(_a.a,{value:.75},"3/4"),r.a.createElement(_a.a,{value:1},"full")),name:"data.overcast",control:l})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},r.a.createElement(Sa,{autoComplete:"newPressure",id:"outlined-basic",label:"details",variant:"outlined",multiline:!0,size:"small",type:"text",name:"data.details",inputRef:n()})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:a.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"enter")))))}),null)),r.a.createElement(ya,{allert:I,setAllert:T})))},Ua={data:{windSpeed:0,seaState:0}},Ya=function(){var e=Object(n.useContext)(v),a=xa(),t=Object(qe.a)("(max-width:600px)"),o=Object(qe.a)("(min-width:600px)"),l=Ra()(),c=Object(va.b)({defaultValues:Ua}),m=c.register,u=c.handleSubmit,d=r.a.useState(!0),p=Object(i.a)(d,2),g=p[0],b=p[1],h=r.a.useState(!1),f=Object(i.a)(h,2),E=f[0],y=f[1],x=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),O=Object(i.a)(x,2),w=O[0],j=O[1],k=r.a.useState(!0),C=Object(i.a)(k,2),N=C[0],I=C[1],T=r.a.useState(void 0),M=Object(i.a)(T,2),A=M[0],F=M[1],P=r.a.useState({lat:0,lng:0}),G=Object(i.a)(P,2),B=G[0],_=G[1],z=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),L=Object(i.a)(z,2),R=L[0],D=L[1],H={lat:0,lng:0};r.a.useEffect((function(){l.isMobile()&&S.a.get("GPSmoduleDisabled")&&b(!1);try{le("/api/days/current").then((function(a){a.error&&401===a.error.code?(console.log("unauthorized"),D(Object(Je.a)({},R,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3)):a.data&&1===a.data.length?(F(!0),I(!1)):(j({msg1:"Oops! It looks like you have no active day.",link:"/dashboard/start/day",linkMsg:"Start it",msg2:"before add hour entry"}),F(!1),I(!1))}))}catch(a){console.log(a)}}),[]);var W=function(a){if(l.isMobile()?(a.data.latitude=B.lat,a.data.longitude=B.lng):(a.data.latitude=H.lat,a.data.longitude=H.lng),0===a.data.longitude||0===a.data.latitude||""===a.data.name)return D(Object(Je.a)({},R,{open:!0,msg:"fill all required inputs marked by *",title:"bad inputs",type:"error"}));try{I(!0),ce("/api/days/waypoint",a).then((function(a){if(a.error&&401===a.error.code)D(Object(Je.a)({},R,{open:!0,type:"error",title:a.error.code,msg:a.error.msg})),setTimeout((function(){e.setAuth(!1),oe()}),3e3);else{if(a.error)return I(!1),D(Object(Je.a)({},R,{open:!0,type:"warning",title:a.error.code,msg:a.error.msg}));a.success?(I(!1),D(Object(Je.a)({},R,{open:!0,type:"success",title:"success",msg:"waypoint was added!"})),setTimeout((function(){return y(!0)}),4e3)):(I(!1),D(Object(Je.a)({},R,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(t){I(!1),D(Object(Je.a)({},R,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}},V=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){_({lat:e.coords.latitude,lng:e.coords.longitude})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e,a){var t=a.dd;a.dms,a.dmsArray;H.lat=t[0],H.lng=t[1]};return r.a.createElement(r.a.Fragment,null,function(){if(E)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:N}),!1===A?r.a.createElement(Ma,{disableFormProps:w}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:a.paper},r.a.createElement("form",{onSubmit:u(W)},r.a.createElement(Ze.a,{className:a.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:t?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Waypoint Entry")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:5},l.isMobile()&&g?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga.a,{value:ue(B.lat,B.lng),style:{width:"80%"},inputProps:{min:0,style:{textAlign:"center"}}}),r.a.createElement(ma.a,{onClick:V,variant:"outlined",color:"secondary",style:{marginTop:"10px"}}," first click to get position*"),r.a.createElement(Qe.a,{variant:"body2",style:{color:"gray",fontSize:"11px"}},"this may take a while"),r.a.createElement(Qe.a,{variant:"body2",onClick:function(){S.a.set("GPSmoduleDisabled",!0,{expires:365}),b(!1)},style:{padding:"2px",width:"150px",margin:"0 auto",color:"rgb(66,133,235)",textDecoration:"underline",fontSize:"11px"}},"Use traditional input")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"overline",style:{width:"100%",display:"block"}},"GPS position*"),r.a.createElement(za.a,{onChange:U,className:a.GPSInput}),l.isMobile()&&S.a.get("GPSmoduleDisabled")&&r.a.createElement(Qe.a,{variant:"body2",onClick:function(){S.a.remove("GPSmoduleDisabled"),b(!0)},style:{padding:"2px",width:"150px",margin:"0 auto",color:"rgb(66,133,235)",textDecoration:"underline",fontSize:"11px"}},"Use Mobile GPS module"))),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6,style:o?{paddingTop:"43px"}:{}},r.a.createElement(Sa,{autoComplete:"newcourse",id:"outlined-basic",label:"name",variant:"outlined",size:"small",type:"text",name:"data.name",inputRef:m()})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:a.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"enter")))))}),null)),r.a.createElement(ya,{allert:R,setAllert:D})))},Ja={data:{actionType:0}},Ka=function(){var e=xa(),a=Object(n.useContext)(v),t=Object(qe.a)("(max-width:600px)"),o=Object(va.b)({defaultValues:Ja}),l=o.register,c=o.handleSubmit,m=o.control,u=r.a.useState(!0),d=Object(i.a)(u,2),p=d[0],g=d[1],b=r.a.useState(void 0),h=Object(i.a)(b,2),f=h[0],E=h[1],y=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),x=Object(i.a)(y,2),S=x[0],O=x[1],w=r.a.useState(!1),j=Object(i.a)(w,2),k=j[0],C=j[1],N=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),I=Object(i.a)(N,2),T=I[0],M=I[1];r.a.useEffect((function(){try{le("/api/days/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?(E(!0),g(!1)):(O({msg1:"Oops! It looks like you have no active day.",link:"/dashboard/start/day",linkMsg:"Start it",msg2:"before add an action"}),E(!1),g(!1))}))}catch(e){console.log(e)}}),[]);var A=function(e){if("other"===e.data.actionType&&""===e.data.details)return M(Object(Je.a)({},T,{open:!0,msg:"set details for other action type",title:"unknown type",type:"error"}));if(0===e.data.actionType)return M(Object(Je.a)({},T,{open:!0,msg:"choose type of action",title:"unknown type",type:"error"}));var t=(new Date).toJSON();e.data.hour=t;try{g(!0),ce("/api/days/action",e).then((function(e){if(e.error&&401===e.error.code)M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return g(!1),M(Object(Je.a)({},T,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(g(!1),M(Object(Je.a)({},T,{open:!0,type:"success",title:"success",msg:"action was added!"})),setTimeout((function(){return C(!0)}),4e3)):(g(!1),M(Object(Je.a)({},T,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(n){g(!1),M(Object(Je.a)({},T,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(k)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:p}),!1===f?r.a.createElement(Ma,{disableFormProps:S}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:e.paper},r.a.createElement("form",{onSubmit:c(A)},r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:t?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Action Entry ",(new Date).toLocaleTimeString())),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement("label",null,r.a.createElement(Qe.a,{variant:"overline",style:{marginRight:"10px",color:"rgb(66,133,235)"}},"Action type *")),r.a.createElement(va.a,{as:r.a.createElement(Ba.a,null,r.a.createElement(_a.a,{value:0,style:{color:"gray"},disabled:!0}," ",r.a.createElement(Qe.a,{style:{color:"gray"}},"choose one")),r.a.createElement(_a.a,{value:"leave"},"leave berth"),r.a.createElement(_a.a,{value:"setSails"},"set sails + engine off"),r.a.createElement(_a.a,{value:"dropSails"},"drop sails + engine on"),r.a.createElement(_a.a,{value:"reef"},"reef Sails"),r.a.createElement(_a.a,{value:"unreefSails"},"unreef sails"),r.a.createElement(_a.a,{value:"engineOn"},"engine on"),r.a.createElement(_a.a,{value:"engineOff"},"engine off"),r.a.createElement(_a.a,{value:"gybe"},"gybe"),r.a.createElement(_a.a,{value:"tack"},"tack"),r.a.createElement(_a.a,{value:"anchorDrop"},"drop the anchor"),r.a.createElement(_a.a,{value:"mooring"},"mooring"),r.a.createElement(_a.a,{value:"mooringBuoy"},"Buoy mooring"),r.a.createElement(_a.a,{value:"other"},"other")),name:"data.actionType",control:m})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"newsailsState",id:"outlined-basic",multiline:!0,label:"details",variant:"outlined",size:"small",type:"text",name:"data.details",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:e.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"enter")))))}),null)),r.a.createElement(ya,{allert:T,setAllert:M})))},qa=function(){var e=xa(),a=Object(n.useContext)(v),t=Object(qe.a)("(max-width:600px)"),o=Object(va.b)(),l=o.register,c=o.handleSubmit,m=r.a.useState(!0),u=Object(i.a)(m,2),d=u[0],p=u[1],g=r.a.useState(void 0),b=Object(i.a)(g,2),h=b[0],f=b[1],E=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),y=Object(i.a)(E,2),x=y[0],S=y[1],O=r.a.useState(!1),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),N=Object(i.a)(C,2),I=N[0],T=N[1];r.a.useEffect((function(){try{le("/api/days/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),T(Object(Je.a)({},I,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?(f(!0),p(!1)):(S({msg1:"Oops! It looks like you have no active day.",link:"/dashboard/start/day",linkMsg:"Start it",msg2:"before add forecast"}),f(!1),p(!1))}))}catch(e){console.log(e)}}),[]);var M=function(e){if(""===e.data.forecast)return T(Object(Je.a)({},I,{open:!0,msg:"set forecast ",title:"unknown type",type:"error"}));try{p(!0),ce("/api/days/forecast",e).then((function(e){if(e.error&&401===e.error.code)T(Object(Je.a)({},I,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return p(!1),T(Object(Je.a)({},I,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(p(!1),T(Object(Je.a)({},I,{open:!0,type:"success",title:"success",msg:"forecast was added!"})),setTimeout((function(){return k(!0)}),4e3)):(p(!1),T(Object(Je.a)({},I,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(t){p(!1),T(Object(Je.a)({},I,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(j)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:d}),!1===h?r.a.createElement(Ma,{disableFormProps:x}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:e.paper},r.a.createElement("form",{onSubmit:c(M)},r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:t?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Edit received forecast")),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Sa,{autoComplete:"newsailsState",id:"outlined-basic",multiline:!0,label:"forecast",variant:"outlined",size:"small",style:{width:"100%",maxWidth:"500px"},type:"text",name:"data.forecast",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:e.buttonBgc,endIcon:r.a.createElement(ve.a,null)},"confirm")))))}),null)),r.a.createElement(ya,{allert:I,setAllert:T})))},Za=t(96),Xa=t.n(Za),Qa=function(){var e=xa(),a=Object(n.useContext)(v),t=Object(qe.a)("(max-width:600px)"),o=Object(va.b)(),l=o.register,c=o.handleSubmit,m=r.a.useState(!0),u=Object(i.a)(m,2),d=u[0],p=u[1],g=r.a.useState(void 0),b=Object(i.a)(g,2),h=b[0],f=b[1],E=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),y=Object(i.a)(E,2),x=y[0],S=y[1],O=r.a.useState(!1),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),N=Object(i.a)(C,2),I=N[0],T=N[1];r.a.useEffect((function(){try{le("/api/days/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),T(Object(Je.a)({},I,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?(f(!0),p(!1)):(S({msg1:"Oops! It looks like you have no active day. You need to ",link:"/dashboard/start/day",linkMsg:"start it",msg2:"to be able to finish it "}),f(!1),p(!1))}))}catch(e){console.log(e)}}),[]);var M=function(e){if(""===e.data.endHarbor||""===e.data.endLOG)return T(Object(Je.a)({},I,{open:!0,msg:"fill all required inputs marked by * ",title:"empty input",type:"error"}));for(var t=parseFloat(e.data.endLOG.replace(",",".")),n=0;n<e.data.endLOG.length;n++){var r=e.data.endLOG.charAt(n).charCodeAt(0);(r<48&&46!==r&&44!==r||r>57)&&(t=NaN)}if(isNaN(t))return T(Object(Je.a)({},I,{open:!0,type:"error",title:"invalid LOG",msg:"please enter valid LOG"}));if(e.data.endLOG=t,""!==e.data.marinaVHF){if(e.data.marinaVHF<0||isNaN(parseInt(e.data.marinaVHF)))return T(Object(Je.a)({},I,{open:!0,type:"error",title:"invalid VHF channel",msg:"please enter valid channel"}));e.data.marinaVHF=parseInt(e.data.marinaVHF)}else e.data.marinaVHF=0;try{p(!0),ce("/api/days/finish",e).then((function(e){if(e.error&&401===e.error.code)T(Object(Je.a)({},I,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return p(!1),T(Object(Je.a)({},I,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(p(!1),T(Object(Je.a)({},I,{open:!0,type:"success",title:"success",msg:"day was finished!"})),setTimeout((function(){return k(!0)}),4e3)):(p(!1),T(Object(Je.a)({},I,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(o){p(!1),T(Object(Je.a)({},I,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(j)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:d}),!1===h?r.a.createElement(Ma,{disableFormProps:x}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:e.paper},r.a.createElement("form",{onSubmit:c(M)},r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:t?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"End Sailing Day")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"ending harbor*",variant:"outlined",size:"small",name:"data.endHarbor",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"end LOG*",variant:"outlined",size:"small",name:"data.endLOG",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"marina Charges",variant:"outlined",size:"small",name:"data.marinaCharges",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Sa,{autoComplete:"newStartingHabrour",id:"outlined-basic",label:"marina VHF channel",type:"number",variant:"outlined",size:"small",name:"data.marinaVHF",inputRef:l()})),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{type:"submit",variant:"contained",color:"primary",className:e.dangerButton,endIcon:r.a.createElement(Xa.a,null)},"Finish")))))}),null)),r.a.createElement(ya,{allert:I,setAllert:T})))},$a=function(){var e=xa(),a=Object(n.useContext)(v),t=Object(qe.a)("(max-width:600px)"),o=r.a.useState(!1),l=Object(i.a)(o,2),c=l[0],m=l[1],u=r.a.useState(!0),d=Object(i.a)(u,2),p=d[0],g=d[1],b=r.a.useState(void 0),h=Object(i.a)(b,2),f=h[0],E=h[1],y=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),x=Object(i.a)(y,2),S=x[0],O=x[1],w=r.a.useState(!1),j=Object(i.a)(w,2),k=j[0],C=j[1],N=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),I=Object(i.a)(N,2),T=I[0],M=I[1];r.a.useEffect((function(){try{le("/api/cruises/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?le("/api/days/current").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&1===e.data.length?(O({msg1:"Oops! It looks like you have active day. You need to ",link:"/dashboard/finish/day",linkMsg:"finish it",msg2:"to be able to finish the whole cruise "}),E(!1),g(!1)):(E(!0),g(!1))})):(O({msg1:"Oops! It looks like you have no active cruise. You need to ",link:"/dashboard/start/cruise",linkMsg:"active it",msg2:"to be able to finish"}),E(!1),g(!1))}))}catch(e){console.log(e)}}),[]);var A=function(e){e.preventDefault();try{g(!0),ie("/api/cruises/finish").then((function(e){if(e.error&&401===e.error.code)M(Object(Je.a)({},T,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3);else{if(e.error)return g(!1),M(Object(Je.a)({},T,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(g(!1),M(Object(Je.a)({},T,{open:!0,type:"success",title:"success",msg:"cruise was finished!"})),setTimeout((function(){return C(!0)}),4e3)):(g(!1),M(Object(Je.a)({},T,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"})))}}))}catch(t){g(!1),M(Object(Je.a)({},T,{open:!0,type:"error",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}};return r.a.createElement(r.a.Fragment,null,function(){if(k)return r.a.createElement(s.a,{to:"/dashboard"})}(),r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},r.a.createElement(wa,{isLoadeing:p}),!1===f?r.a.createElement(Ma,{disableFormProps:S}):r.a.createElement((function(){return r.a.createElement(Xe.a,{className:e.paper},r.a.createElement("form",{onSubmit:A},r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:4,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,style:t?{borderBottom:"1px solid black"}:{borderBottom:"1px solid black",paddingTop:"0px"}},r.a.createElement(Qe.a,{variant:"h5"},"Finish Cruise")),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{variant:"body1"},r.a.createElement("span",{style:{color:"orangered"}},"Warning! "),"After closing the cruise you will no longer be able to add days and entries connected to it. Are you sure you want to finish the cruise?")),r.a.createElement(et,{checked:c,onChange:function(){return m(!c)}}),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(ma.a,{disabled:!c,type:"submit",variant:"contained",color:"primary",className:e.dangerButton,endIcon:r.a.createElement(Xa.a,null)},"Finish")))))}),null)),r.a.createElement(ya,{allert:T,setAllert:M})))},et=Object(X.a)({switchBase:{color:"orangered","&$checked":{color:"orangered"},"&$checked + $track":{backgroundColor:"orangered"}},checked:{},track:{}})(Na.a),at=t(150),tt=t.n(at),nt=function(e){var a=e.height,t=e.width,o=xa(),l=r.a.useState([]),c=Object(i.a)(l,2),s=c[0],m=c[1],u=r.a.useState(!0),d=Object(i.a)(u,2),p=d[0],g=d[1],b=Object(n.useState)({width:t,height:a,borderRadius:"5px",latitude:50.268561,longitude:-4.170343,zoom:9}),h=Object(i.a)(b,2),f=h[0],E=h[1],y=(function(e){var a=r.a.useRef();r.a.useEffect((function(){a.current=e})),a.current}(f),r.a.useState(null)),v=Object(i.a)(y,2),x=v[0],S=v[1],O=r.a.useState(null),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState(null),N=Object(i.a)(C,2),I=N[0],T=N[1];r.a.useEffect((function(){navigator.geolocation.getCurrentPosition((function(e){k(e.coords.accuracy),T([e.coords.latitude,e.coords.longitude]),E(Object(Je.a)({},f,{latitude:e.coords.latitude,longitude:e.coords.longitude})),g(!1)}),(function(){E(f),g(!1)}))}),[]),r.a.useEffect((function(){var e=function(e){"Escape"===e.key&&S(null)};window.addEventListener("keydown",e);return rt("https://api.marinas.com/v1/points/search?access_token=".concat("yaN_DR9sVFw46sXhp3Tk","&location[lat]=").concat(f.latitude,"&location[lon]=").concat(f.longitude),{method:"GET"}).then((function(e){m(e.data)})),function(){window.removeEventListener("keydown",e)}}),[]);var M=function(){rt("https://api.marinas.com/v1/points/search?access_token=".concat("yaN_DR9sVFw46sXhp3Tk","&location[lat]=").concat(f.latitude,"&location[lon]=").concat(f.longitude),{method:"GET"}).then((function(e){m(e.data)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:o.GridContainer,container:!0,spacing:2,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,lg:8},r.a.createElement(Xe.a,{className:o.paper,style:{backgroundColor:"rgba(0, 0, 0, 0.2)"}},r.a.createElement(Ke.c,Object.assign({},f,{mapboxApiAccessToken:"pk.eyJ1IjoiamFrdWJvbGVqbmlrIiwiYSI6ImNrYTgxNjZ2bjA4bWgycnJ1ZHp6YWFnYngifQ.yomtRrXDqNpuRYbee6k9Hw",onViewportChange:function(e){E(e),S(null)},maxZoom:14,minZoom:4,mapStyle:"mapbox://styles/jakubolejnik/cka83m23t24ph1iog6zhdz6bd",onTouchEnd:function(){M()},onMouseUp:function(){M()}}),I&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"35px",height:"35px",position:"absolute",top:5,right:5,borderRadius:5,border:".5px solid black",backgroundColor:"rgba(46,128,233, .8)",cursor:"pointer"},onClick:function(){E(Object(Je.a)({},f,{zoom:9,latitude:I[0],longitude:I[1]}))}},r.a.createElement("img",{style:{position:"absolute",margin:"auto",top:0,left:0,right:0,bottom:0},src:tt.a,alt:"centerIcon",width:"25",height:"25"})),r.a.createElement("span",{style:{padding:5,backgroundColor:"rgba(0, 0, 0, .75)",borderRadius:"6px",color:"snow"}},r.a.createElement(Qe.a,{style:{margin:0,padding:0},variant:"overline"},"accuracy: ",Math.round(j),"m"))),s&&f.zoom>=9&&s.map((function(e){return r.a.createElement(Ke.a,{key:e.id,latitude:e.location.lat,longitude:e.location.lon,className:o.marker},r.a.createElement("img",{src:e.icon_urls.light,alt:"marina-icon",width:"24",height:"24",onClick:function(){S(e)},style:{cursor:"pointer"}}))})),I&&r.a.createElement(Ke.a,{className:o.marker,latitude:I[0],longitude:I[1]},r.a.createElement("img",{src:ta.a,width:"20",height:"20",alt:"boaticon"})),x&&r.a.createElement(Ke.b,{className:o.popup,latitude:x.location.lat,longitude:x.location.lon,onClose:function(){return S(null)},closeOnClick:!1},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("img",{src:x.icon_urls.light,alt:"icon",width:"30",height:"30",style:{verticalAlign:"middle",marginRight:5}}),r.a.createElement("span",null,x.name)),r.a.createElement("p",{style:{color:"gray",fontStyle:"italic"}},ue(x.location.lat,x.location.lon)),x.images.data[0]&&r.a.createElement("p",{style:{marginBottom:"10px"}},r.a.createElement("img",{src:x.images.data[0].medium_url,width:"130",alt:"icon",style:{verticalAlign:"middle",marginRight:5}})),r.a.createElement(ma.a,{className:o.buttonBgc,target:"_blank",href:x.web_url},"Find out more"))),p&&r.a.createElement("div",{style:{cursor:"default",position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:"rgba(0,0,0,.75)",color:"snow"}},r.a.createElement(ot,null),r.a.createElement("br",null),r.a.createElement("h5",null,"Loading position...")),f.zoom<9&&r.a.createElement(fa.a,{severity:"info",style:{position:"absolute",bottom:5,left:5,marginRight:5,zIndex:999}},"Zoom in to show mainas and harbors on map!!! ",r.a.createElement("span",{role:"img","aria-label":"anchor"},"\u2693\ufe0f")))))))};var rt=function(){var e=Object(ne.a)(te.a.mark((function e(a,t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ot=Object(X.a)({root:{color:"snow"}})(ea.a),lt=t(32),ct=t(5),it=t(285),st=t(286),mt=t(287),ut=t(288),dt=t(289),pt=t(152),gt=t.n(pt),bt=t(151),ht=t(107),ft=t.n(ht),Et=t(108),yt=t.n(Et),vt=t(105),xt=t(106),St=t.n(xt),Ot=t(280),wt=t(282),jt=t(281),kt=t(284),Ct=t(270),Nt=r.a.forwardRef((function(e,a){return r.a.createElement(Ct.a,Object.assign({direction:"up",ref:a},e))})),It=function(e){var a=e.day,t=e.dialogOpen,n=e.setDialogOpen,o=e.daysArray,l=e.setData,c=r.a.useContext(v),s=r.a.useState(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),g=Object(i.a)(p,2),b=g[0],h=g[1],f=function(){n(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{open:t===a._id,onClose:f,TransitionComponent:Nt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(kt.a,{id:"alert-dialog-title"}," ",r.a.createElement("span",{style:{color:"orangered"}},"WARNING! ")," Are you sure you want to delete this day?"),r.a.createElement(jt.a,{style:u?{textAlign:"center"}:{}},u?r.a.createElement(Tt,{size:24,thickness:4}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,new Date(a.date).toLocaleDateString()),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"12px",color:"gray",fontStyle:"italic"}},"from")," ",a.startHarbor," ",r.a.createElement("span",{style:{fontSize:"12px",color:"gray",fontStyle:"italic"}},"  to")," ",a.endHarbor)),r.a.createElement(wt.a,null,r.a.createElement(ma.a,{onClick:f,color:"primary",disabled:u},r.a.createElement("span",{style:{color:"rgb(46,128,233)"}},"No")),r.a.createElement(ma.a,{onClick:function(){return function(e){d(!0);var a=o.data.filter((function(a){return a._id!==e._id}));se("/api/days/".concat(e._id)).then((function(e){if(e.error&&401===e.error.code)h(Object(Je.a)({},b,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){c.setAuth(!1),oe()}),3e3);else{if(e.error)return h(Object(Je.a)({},b,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(l({data:a}),d(!1),n(!1)):h(Object(Je.a)({},b,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}})).catch((function(e){return console.log(e)}))}(a)},color:"primary",autoFocus:!0,disabled:u},r.a.createElement("span",{style:{color:"orangered"}},"Yes")))),r.a.createElement(ya,{allert:b,setAllert:h}))},Tt=Object(X.a)({root:{color:"orangered",width:"24px",height:"24px"}})(ea.a),Mt=r.a.forwardRef((function(e,a){return r.a.createElement(Ct.a,Object.assign({direction:"up",ref:a},e))})),At=function(e){var a=e.cruise,t=e.dialogOpen,n=e.setCruiseDialogOpen,o=e.setCruisesArray,l=e.cruisesArray,c=r.a.useContext(v),s=r.a.useState(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),g=Object(i.a)(p,2),b=g[0],h=g[1],f=function(){n(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{open:t===a._id,onClose:f,TransitionComponent:Mt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(kt.a,{id:"alert-dialog-title"}," ",r.a.createElement("span",{style:{color:"orangered"}},"WARNING! ")," Are you sure you want to delete this cruise?"),r.a.createElement(jt.a,{style:u?{textAlign:"center"}:{}},u?r.a.createElement(Ft,{size:24,thickness:4}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,new Date(a.startDate).toLocaleDateString()),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"black",fontStyle:"italic"}},a.country),",",r.a.createElement("span",{style:{color:"gray",fontStyle:"italic"}}," "+a.sailingArea))),r.a.createElement(wt.a,null,r.a.createElement(ma.a,{onClick:f,color:"primary",disabled:u},r.a.createElement("span",{style:{color:"rgb(46,128,233)"}},"No")),r.a.createElement(ma.a,{onClick:function(){return function(e){d(!0);var a=l.data.filter((function(a){return a._id!==e._id}));se("/api/cruises/".concat(e._id)).then((function(e){if(e.error&&401===e.error.code)h(Object(Je.a)({},b,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){c.setAuth(!1),oe()}),3e3);else{if(e.error)return h(Object(Je.a)({},b,{open:!0,type:"warning",title:e.error.code,msg:e.error.msg}));e.success?(o({data:a}),d(!1),n(!1)):h(Object(Je.a)({},b,{open:!0,type:"info",title:"error: 500",msg:"it looks that something went wrong maybe try again?"}))}})).catch((function(e){return console.log(e)}))}(a)},color:"primary",autoFocus:!0,disabled:u},r.a.createElement("span",{style:{color:"orangered"}},"Yes")))),r.a.createElement(ya,{allert:b,setAllert:h}))},Ft=Object(X.a)({root:{color:"orangered",width:"24px",height:"24px"}})(ea.a),Pt=function(e){var a=e.cruise,t=e.cruisesArray,n=e.setCruisesArray,o=xa(),l=r.a.useContext(v),c=r.a.useState(!1),s=Object(i.a)(c,2),m=s[0],u=s[1],d=r.a.useState("US"),p=Object(i.a)(d,2),g=p[0],b=p[1],h=r.a.useState(),f=Object(i.a)(h,2),y=f[0],x=f[1],O=r.a.useState(!0),w=Object(i.a)(O,2),j=w[0],k=w[1],C=r.a.useState(!1),N=Object(i.a)(C,2),I=N[0],T=N[1],M=r.a.useState(!1),A=Object(i.a)(M,2),F=A[0],P=A[1],G=r.a.useState({width:"100%",cursor:"pointer",height:"300px",latitude:32.890983,longitude:-16.734528,zoom:7}),B=Object(i.a)(G,2),_=B[0],z=B[1],L=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),R=Object(i.a)(L,2),D=R[0],H=R[1],W=r.a.useState(!1),V=Object(i.a)(W,2),U=V[0],Y=V[1],J=r.a.useState(!1),q=Object(i.a)(J,2),Z=q[0],X=q[1];r.a.useEffect((function(){try{setTimeout((function(){le("/api/days/cruise/".concat(a._id)).then((function(e){if(e.error&&401===e.error.code)console.log("unauthorized"),H(Object(Je.a)({},D,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){l.setAuth(!1),oe()}),3e3);else if(e.error)H(Object(Je.a)({},D,{duration:99999,open:!0,type:"error",title:e.error.code,msg:e.error.msg+"Try to reload the page!!!"}));else{x(e);var a=0,t=0,n=0;e.data.forEach((function(e){e.hourlyArray.forEach((function(e){a+=e.latitude,t+=e.longitude,n++}))})),0!==a&&0!==t&&z(Object(Je.a)({},_,{latitude:a/n,longitude:t/n})),k(!1)}}))}),1e3)}catch(e){console.log(e)}}),[]),r.a.useEffect((function(){da.forEach((function(e){e.label===a.country&&b(e.code)}))}),[]);var Q=function(e){var a=Math.floor(e),t=e-a;return a+"h "+Math.round(60*t)+"min"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(it.a,{className:o.root},r.a.createElement(st.a,{avatar:r.a.createElement(bt.a,{className:"emojiFlag",countryCode:g,style:{fontSize:"2em"},"aria-label":"United States"}),action:r.a.createElement(K.a,{"aria-label":"settings",onClick:function(){return X(a._id)}},r.a.createElement(ft.a,{style:{fill:"orangered"}})),title:a.country+", "+a.sailingArea,subheader:new Date(a.startDate).toLocaleDateString()}),r.a.createElement(Ke.c,Object.assign({},_,{mapboxApiAccessToken:"pk.eyJ1IjoiamFrdWJvbGVqbmlrIiwiYSI6ImNrYTgxNjZ2bjA4bWgycnJ1ZHp6YWFnYngifQ.yomtRrXDqNpuRYbee6k9Hw",mapStyle:"mapbox://styles/jakubolejnik/cka83m23t24ph1iog6zhdz6bd"}),j&&r.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"gray",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(ea.a,{style:{color:"rgb(245,2,87)"}})),r.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"transparent",cursor:"default"}})),r.a.createElement(mt.a,null,r.a.createElement(Qe.a,{variant:"body2",color:"textSecondary",component:"p",style:{fontSize:"16px"}},"Cruise started in ",r.a.createElement("span",{style:{color:"black",fontStyle:"italic"}},a.harbour),". Sailed ",r.a.createElement("span",{style:{color:"black",fontStyle:"italic"}},Math.round(100*a.nauticalMiles)/100)," nautical miles on boat",r.a.createElement("span",{style:{color:"black",fontStyle:"italic"}}," "+a.boatID[0].name),".")),r.a.createElement(ut.a,{disableSpacing:!0},!1===a.isDone?r.a.createElement("p",{style:{paddingLeft:"10px",color:"green",fontStyle:"italic",fontWeight:"bold"}}," cruise is still active "):r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{"aria-label":"add to favorites",onClick:function(){return function(e){P(!0);var t=S.a.get("RefreshToken");ce("/api/cruises/pdf",e).then((function(e){if(e.error&&401===e.error.code)throw Error(401);return St.a.get(E.a.server.concat("/api/cruises/pdf"),{responseType:"blob",headers:{authorization:"Bearer ".concat(t)}})})).then((function(e){var t=new Blob([e.data],{type:"application/pdf"});P(!1),Object(vt.saveAs)(t,"".concat(a.country,"_").concat(a.sailingArea,"_").concat(new Date(a.startDate).getFullYear(),".pdf"))})).catch((function(e){P(!1),"401"===e.message&&(console.log("unauthorized"),H(Object(Je.a)({},D,{open:!0,type:"error",title:"Error 401",msg:"you are not authorized"})),setTimeout((function(){l.setAuth(!1),oe()}),3e3))}))}(y)}},!F&&r.a.createElement(yt.a,{style:{fill:"green"}}),F&&r.a.createElement(Gt,{size:24,thickness:4})),r.a.createElement(Qe.a,{variant:"body2",style:{fontSize:"14px",color:"green"}},"download cruise logook")),r.a.createElement(K.a,{className:Object(ct.a)(o.expand,Object(lt.a)({},o.expandOpen,m)),onClick:function(){u(!m)},"aria-expanded":m,"aria-label":"show more"},r.a.createElement(gt.a,null))),r.a.createElement(dt.a,{in:m,timeout:"auto",unmountOnExit:!0},r.a.createElement(mt.a,{style:{paddingBottom:"16px"}},r.a.createElement(Ze.a,{className:o.GridContainer,container:!0,spacing:5,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe.a,{paragraph:!0,color:"secondary"},"Stats:"),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Nautical miles sailed:"),r.a.createElement("span",{style:{float:"right"}},Math.round(100*a.nauticalMiles)/100," nm")," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Hours at sea:"),r.a.createElement("span",{style:{float:"right"}},Q(a.travelHours))," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Sailed on sails:")," ",r.a.createElement("span",{style:{float:"right"}},Q(a.hoursSailedOnSails))," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Sailed on engine:")," ",r.a.createElement("span",{style:{float:"right"}},Q(a.hoursSailedOnEngine))," ")),r.a.createElement(Ze.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe.a,{paragraph:!0,color:"secondary"},"Boat:"),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Name:")," ",r.a.createElement("span",{style:{float:"right"}},a.boatID[0].name)," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Type:")," ",r.a.createElement("span",{style:{float:"right"}},a.boatID[0].type)," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Draft:"),r.a.createElement("span",{style:{float:"right"}}," ",a.boatID[0].draft)," "),r.a.createElement("p",null,r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"MMSI:")," ",r.a.createElement("span",{style:{float:"right"}},a.boatID[0].MMSI)," ")),r.a.createElement(Ze.a,{item:!0,xs:12},r.a.createElement(Qe.a,{paragraph:!0,color:"secondary"},"Days: ",r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},y?y.data.length:"loading")),y&&y.data.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("p",{style:{color:"gray",fontStyle:"italic"}},new Date(e.date).toLocaleDateString(),r.a.createElement("span",{style:{float:"right"}}," ",r.a.createElement(ft.a,{style:{fill:"orangered",cursor:"pointer"},onClick:function(){return Y(e._id)}})," ")),r.a.createElement("p",{style:{paddingLeft:"10px"}}," ",r.a.createElement("span",{style:{fontSize:"12px",color:"gray",fontStyle:"italic"}},"from")," ",e.startHarbor," ",r.a.createElement("span",{style:{fontSize:"12px",color:"gray",fontStyle:"italic"}},"  to")," ",e.endHarbor?e.endHarbor:" ___"),r.a.createElement("p",{style:{paddingLeft:"10px"}},r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Hours at sea:"),r.a.createElement("span",{style:{float:"right"}}," ",Q(e.travelHours))," "),r.a.createElement("p",{style:{paddingLeft:"10px"}},r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"Nautical miles:")," ",r.a.createElement("span",{style:{float:"right"}},Math.round(100*e.nauticalMiles)/100," nm")," "),r.a.createElement("p",{style:{paddingLeft:"10px"}},r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"On sails:")," ",r.a.createElement("span",{style:{float:"right"}},Q(e.hoursSailedOnSails))," "),r.a.createElement("p",{style:{paddingLeft:"10px"}},r.a.createElement("span",{style:{color:"rgb(35,123,232)"}},"On engine:")," ",r.a.createElement("span",{style:{float:"right"}},Q(e.hoursSailedOnEngine))," "),e.isDone?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{variant:"body2",style:{fontSize:"14px",color:"green",paddingLeft:"10px",textAlign:"right"}},"download day logook",r.a.createElement(K.a,{"aria-label":"downloand logbook",disabled:I===e._id,onClick:function(){return function(e){T(e);var a={};y.data.forEach((function(t){t._id===e&&(a=t)}));var t=S.a.get("RefreshToken");ce("/api/days/pdf",a).then((function(e){if(e.error&&401===e.error.code)throw Error(401);return St.a.get(E.a.server.concat("/api/days/pdf"),{responseType:"blob",headers:{authorization:"Bearer ".concat(t)}})})).then((function(e){var t=new Blob([e.data],{type:"application/pdf"});T(!1),Object(vt.saveAs)(t,"".concat(new Date(a.date).toLocaleDateString(),".pdf"))})).catch((function(e){T(!1),"401"===e.message&&(console.log("unauthorized"),H(Object(Je.a)({},D,{open:!0,type:"error",title:"Error 401",msg:"you are not authorized"})),setTimeout((function(){l.setAuth(!1),oe()}),3e3))}))}(e._id)}},I!==e._id&&r.a.createElement(yt.a,{style:{fill:"green"}}),I===e._id&&r.a.createElement(Gt,{size:24,thickness:4})))):r.a.createElement(Qe.a,{variant:"body2",style:{fontSize:"14px",color:"green",padding:"12px 0 12px 10px",textAlign:"right"}},"Day is still ACTIVE."),r.a.createElement(he.a,{style:{margin:"0px 0 10px 0"}}),r.a.createElement(It,{daysArray:y,setData:x,day:e,dialogOpen:U,setDialogOpen:Y}))})))))))),r.a.createElement(At,{cruise:a,dialogOpen:Z,setCruiseDialogOpen:X,cruisesArray:t,setCruisesArray:n}),r.a.createElement(ya,{allert:D,setAllert:H}))},Gt=Object(X.a)({root:{color:"rgb(68,183,0)",width:"24px",height:"24px"}})(ea.a),Bt=function(){var e=xa(),a=r.a.useContext(v),t=r.a.useState({open:!1,variant:"filled",duration:4e3,type:"success",title:"success",msg:"success msg"}),o=Object(i.a)(t,2),l=o[0],c=o[1],s=r.a.useState(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=r.a.useState(void 0),g=Object(i.a)(p,2),b=g[0],h=g[1],f=r.a.useState({msg1:"",link:"",linkMsg:"",msg2:""}),E=Object(i.a)(f,2),y=E[0],x=E[1],S=Object(n.useState)(),O=Object(i.a)(S,2),w=O[0],j=O[1];return Object(n.useEffect)((function(){try{le("/api/cruises").then((function(e){e.error&&401===e.error.code?(console.log("unauthorized"),c(Object(Je.a)({},l,{open:!0,type:"error",title:e.error.code,msg:e.error.msg})),setTimeout((function(){a.setAuth(!1),oe()}),3e3)):e.data&&0===e.data.length?(x({msg1:"You don't have any cruises. You Can ",link:"/dashboard/start/cruise",linkMsg:"start one here",msg2:""}),h(!1),d(!1)):e.error?c(Object(Je.a)({},l,{duration:99999,open:!0,type:"error",title:e.error.code,msg:e.error.msg+"Try to reload the page!!!"})):(j(e),h(!0),d(!1))}))}catch(e){console.log(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:2,justify:"center",alignItems:"center"},r.a.createElement(Ze.a,{item:!0,xs:12,md:8,lg:6,xl:5},!1===b&&r.a.createElement(Ma,{disableFormProps:y}),r.a.createElement(Ze.a,{className:e.GridContainer,container:!0,spacing:2,justify:"center",alignItems:"center"},!0===b&&w.data&&w.data.map((function(e){return r.a.createElement(Pt,{key:e.startDate,cruise:e,cruisesArray:w,setCruisesArray:j},e.country)}))),r.a.createElement(wa,{isLoadeing:u})),r.a.createElement(ya,{allert:l,setAllert:c})))},_t=function(){var e=xa();return r.a.createElement("div",{style:{width:"100%",height:"calc(100% -60px)",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Xe.a,{className:e.paper},r.a.createElement(Qe.a,{variant:"h5",style:{letterSpacing:"2px"}},"Here You will be able to manage your account. ",r.a.createElement("br",null)),r.a.createElement(Qe.a,{color:"primary",variant:"overline",style:{fontSize:"32px",fontStyle:"italic"}},"Stay tuned! ",r.a.createElement("span",{role:"img","aria-label":"surf connection"},"\u2693\ufe0f\u26f5\ufe0f")," ")))},zt=Object(W.a)((function(e){return{DashboardContent:{width:"100%",flexGrow:1,backgroundImage:"url(".concat(U.a,")"),backgroundPosition:"bottom",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",display:"flex",alignItems:"stretch"}}})),Lt=function(){var e=Object(n.useContext)(v),a=zt(),t=r.a.useState({isMenuOpened:!1}),o=Object(i.a)(t,2),l=o[0],c=o[1];Object(n.useEffect)((function(){S.a.get("RefreshToken")?e.setAuth(!0):e.setAuth(!1)}));var m=r.a.useMemo((function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/dashboard",exact:!0}," ",r.a.createElement(ra,null)," "),r.a.createElement(s.b,{path:"/dashboard/start/cruise",exact:!0}," ",r.a.createElement(Ca,null)," "),r.a.createElement(s.b,{path:"/dashboard/start/day",exact:!0}," ",r.a.createElement(Fa,null)," "),r.a.createElement(s.b,{path:"/dashboard/add",exact:!0}," ",r.a.createElement(Ha,null)," "),r.a.createElement(s.b,{path:"/dashboard/add/weather",exact:!0}," ",r.a.createElement(Va,null)," "),r.a.createElement(s.b,{path:"/dashboard/add/action",exact:!0}," ",r.a.createElement(Ka,null)," "),r.a.createElement(s.b,{path:"/dashboard/add/waypoint",exact:!0}," ",r.a.createElement(Ya,null)," "),r.a.createElement(s.b,{path:"/dashboard/add/forecast",exact:!0}," ",r.a.createElement(qa,null)," "),r.a.createElement(s.b,{path:"/dashboard/finish/cruise",exact:!0}," ",r.a.createElement($a,null)," "),r.a.createElement(s.b,{path:"/dashboard/finish/day",exact:!0}," ",r.a.createElement(Qa,null)),r.a.createElement(s.b,{path:"/dashboard/cruises",exact:!0}," ",r.a.createElement(Bt,null)," "),r.a.createElement(s.b,{path:"/dashboard/map",exact:!0}," ",r.a.createElement(nt,{width:"100%",height:"calc(100vh - 150px)"})," "),r.a.createElement(s.b,{path:"/dashboard/settings",exact:!0}," ",r.a.createElement(_t,null)," "),r.a.createElement(s.b,{path:"/dashboard/about",exact:!0}," ",r.a.createElement("p",{style:{textAlign:"center"}},"About")," "))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Dashboard"},r.a.createElement(pe,{state:l,setState:c}),r.a.createElement(Ye,{state:l,setState:c}),r.a.createElement("div",{className:a.DashboardContent},m)))},Rt=t(153),Dt=(t(216),function(){return Object(n.useEffect)((function(){setTimeout((function(){localStorage.getItem("cookieBannerDisplayed")||document.querySelector(".cookieContainer").classList.add("cookieContainerActive")}),2e3)}),[]),r.a.createElement("div",{className:"cookieContainer"},r.a.createElement("p",{style:{margin:"20px 20px 0 20px",color:"snow"}},"We use cookies, to give you the best experience on oursite. To find out more about our cookie and privacy policy contact us on ",r.a.createElement("a",{href:"mailto: logbook1155@gmail.com",className:"emailLink",style:{fontStyle:"italic",color:"rgb(153, 191, 210)"}},"logbook1155(a)gmail.com ")),r.a.createElement("button",{className:"loginForm__SignInButton cookieBtn",style:{width:"100px",margin:"10px auto",fontSize:"16px",padding:0,height:"25px"},onClick:function(){document.querySelector(".cookieContainer").classList.remove("cookieContainerActive"),localStorage.setItem("cookieBannerDisplayed",!0)}},"Okay"))}),Ht=function(){var e=Object(n.useState)(),a=Object(i.a)(e,2),t=a[0],o=a[1],l={timeout:5e3,position:y.b.BOTTOM_LEFT};window.innerWidth<1024&&(l.position=y.b.TOP_RIGHT),Object(n.useEffect)((function(){window.location.href.includes("userValidation")||m()}));var m=function(){var e=S.a.get("RefreshToken");o(!!e)},d=function(e){var a=e.component,n=Object(c.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(){return t?r.a.createElement(a,null):r.a.createElement(s.a,{to:"/login"})}}))},p=function(e){var a=e.component,n=Object(c.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(){return t?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement(a,null)}}))};return r.a.createElement(y.a,Object.assign({template:Rt.a},l),r.a.createElement(v.Provider,{value:{auth:t,setAuth:o}},r.a.createElement((function(){var e=Object(n.useContext)(v);return r.a.createElement(s.d,null,r.a.createElement(p,{path:"/",exact:!0,component:G,auth:e.auth}),r.a.createElement(p,{path:"/login",exact:!0,component:G,auth:e.auth}),r.a.createElement(p,{path:"/registration",exact:!0,component:_}),r.a.createElement(p,{path:"/forgotPass",exact:!0,component:R}),r.a.createElement(p,{path:"/userValidation",component:D}),r.a.createElement(p,{path:"/setNewPassword",component:H}),r.a.createElement(d,{path:"/dashboard",auth:e.auth,component:Lt}),r.a.createElement(s.b,{component:u}))}),null),r.a.createElement(Dt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(m.a,{basename:""},r.a.createElement(Ht,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,a){e.exports={server:"https://onlinelogbookapi.pl",mainSite:"https://localhost:3001",authServer:"https://onlinelogbookapi.pl"}},61:function(e,a,t){e.exports=t.p+"static/media/logo.77da86f3.svg"},87:function(e,a,t){e.exports=t.p+"static/media/logo-white.b2a8a17d.svg"},92:function(e,a,t){e.exports=t.p+"static/media/sailboat-boat.4fc60796.svg"}},[[176,1,2]]]);
//# sourceMappingURL=main.56e2514c.chunk.js.map